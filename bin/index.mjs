#!/usr/bin/env node
import './sourcemap-register.cjs';import{createRequire as e}from"module";var t={8150:e=>{const t=Symbol("arg flag");class ArgError extends Error{constructor(e,t){super(e);this.name="ArgError";this.code=t;Object.setPrototypeOf(this,ArgError.prototype)}}function arg(e,{argv:r=process.argv.slice(2),permissive:n=false,stopAtPositional:o=false}={}){if(!e){throw new ArgError("argument specification object is required","ARG_CONFIG_NO_SPEC")}const i={_:[]};const s={};const a={};for(const r of Object.keys(e)){if(!r){throw new ArgError("argument key cannot be an empty string","ARG_CONFIG_EMPTY_KEY")}if(r[0]!=="-"){throw new ArgError(`argument key must start with '-' but found: '${r}'`,"ARG_CONFIG_NONOPT_KEY")}if(r.length===1){throw new ArgError(`argument key must have a name; singular '-' keys are not allowed: ${r}`,"ARG_CONFIG_NONAME_KEY")}if(typeof e[r]==="string"){s[r]=e[r];continue}let n=e[r];let o=false;if(Array.isArray(n)&&n.length===1&&typeof n[0]==="function"){const[e]=n;n=(t,r,n=[])=>{n.push(e(t,r,n[n.length-1]));return n};o=e===Boolean||e[t]===true}else if(typeof n==="function"){o=n===Boolean||n[t]===true}else{throw new ArgError(`type missing or not a function or valid array type: ${r}`,"ARG_CONFIG_VAD_TYPE")}if(r[1]!=="-"&&r.length>2){throw new ArgError(`short argument keys (with a single hyphen) must have only one character: ${r}`,"ARG_CONFIG_SHORTOPT_TOOLONG")}a[r]=[n,o]}for(let e=0,t=r.length;e<t;e++){const t=r[e];if(o&&i._.length>0){i._=i._.concat(r.slice(e));break}if(t==="--"){i._=i._.concat(r.slice(e+1));break}if(t.length>1&&t[0]==="-"){const o=t[1]==="-"||t.length===2?[t]:t.slice(1).split("").map((e=>`-${e}`));for(let t=0;t<o.length;t++){const c=o[t];const[l,u]=c[1]==="-"?c.split(/=(.*)/,2):[c,undefined];let f=l;while(f in s){f=s[f]}if(!(f in a)){if(n){i._.push(c);continue}else{throw new ArgError(`unknown or unexpected option: ${l}`,"ARG_UNKNOWN_OPTION")}}const[p,d]=a[f];if(!d&&t+1<o.length){throw new ArgError(`option requires argument (but was followed by another short argument): ${l}`,"ARG_MISSING_REQUIRED_SHORTARG")}if(d){i[f]=p(true,f,i[f])}else if(u===undefined){if(r.length<e+2||r[e+1].length>1&&r[e+1][0]==="-"&&!(r[e+1].match(/^-?\d*(\.(?=\d))?\d*$/)&&(p===Number||typeof BigInt!=="undefined"&&p===BigInt))){const e=l===f?"":` (alias for ${f})`;throw new ArgError(`option requires argument: ${l}${e}`,"ARG_MISSING_REQUIRED_LONGARG")}i[f]=p(r[e+1],f,i[f]);++e}else{i[f]=p(u,f,i[f])}}}else{i._.push(t)}}return i}arg.flag=e=>{e[t]=true;return e};arg.COUNT=arg.flag(((e,t,r)=>(r||0)+1));arg.ArgError=ArgError;e.exports=arg},3012:(e,t,r)=>{var n=r(4300).Buffer;var o=r(4300).SlowBuffer;e.exports=bufferEq;function bufferEq(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)){return false}if(e.length!==t.length){return false}var r=0;for(var o=0;o<e.length;o++){r|=e[o]^t[o]}return r===0}bufferEq.install=function(){n.prototype.equal=o.prototype.equal=function equal(e){return bufferEq(this,e)}};var i=n.prototype.equal;var s=o.prototype.equal;bufferEq.restore=function(){n.prototype.equal=i;o.prototype.equal=s}},2175:e=>{function padWithZeros(e,t){var r=e.toString();while(r.length<t){r="0"+r}return r}function addZero(e){return padWithZeros(e,2)}function offset(e){var t=Math.abs(e);var r=String(Math.floor(t/60));var n=String(t%60);r=("0"+r).slice(-2);n=("0"+n).slice(-2);return e===0?"Z":(e<0?"+":"-")+r+":"+n}function asString(t,r){if(typeof t!=="string"){r=t;t=e.exports.ISO8601_FORMAT}if(!r){r=e.exports.now()}var n=addZero(r.getDate());var o=addZero(r.getMonth()+1);var i=addZero(r.getFullYear());var s=addZero(i.substring(2,4));var a=t.indexOf("yyyy")>-1?i:s;var c=addZero(r.getHours());var l=addZero(r.getMinutes());var u=addZero(r.getSeconds());var f=padWithZeros(r.getMilliseconds(),3);var p=offset(r.getTimezoneOffset());var d=t.replace(/dd/g,n).replace(/MM/g,o).replace(/y{1,4}/g,a).replace(/hh/g,c).replace(/mm/g,l).replace(/ss/g,u).replace(/SSS/g,f).replace(/O/g,p);return d}function setDatePart(e,t,r,n){e["set"+(n?"":"UTC")+t](r)}function extractDateParts(t,r,n){var o=t.indexOf("O")<0;var i=false;var s=[{pattern:/y{1,4}/,regexp:"\\d{1,4}",fn:function(e,t){setDatePart(e,"FullYear",t,o)}},{pattern:/MM/,regexp:"\\d{1,2}",fn:function(e,t){setDatePart(e,"Month",t-1,o);if(e.getMonth()!==t-1){i=true}}},{pattern:/dd/,regexp:"\\d{1,2}",fn:function(e,t){if(i){setDatePart(e,"Month",e.getMonth()-1,o)}setDatePart(e,"Date",t,o)}},{pattern:/hh/,regexp:"\\d{1,2}",fn:function(e,t){setDatePart(e,"Hours",t,o)}},{pattern:/mm/,regexp:"\\d\\d",fn:function(e,t){setDatePart(e,"Minutes",t,o)}},{pattern:/ss/,regexp:"\\d\\d",fn:function(e,t){setDatePart(e,"Seconds",t,o)}},{pattern:/SSS/,regexp:"\\d\\d\\d",fn:function(e,t){setDatePart(e,"Milliseconds",t,o)}},{pattern:/O/,regexp:"[+-]\\d{1,2}:?\\d{2}?|Z",fn:function(e,t){if(t==="Z"){t=0}else{t=t.replace(":","")}var r=Math.abs(t);var n=(t>0?-1:1)*(r%100+Math.floor(r/100)*60);e.setUTCMinutes(e.getUTCMinutes()+n)}}];var a=s.reduce((function(e,t){if(t.pattern.test(e.regexp)){t.index=e.regexp.match(t.pattern).index;e.regexp=e.regexp.replace(t.pattern,"("+t.regexp+")")}else{t.index=-1}return e}),{regexp:t,index:[]});var c=s.filter((function(e){return e.index>-1}));c.sort((function(e,t){return e.index-t.index}));var l=new RegExp(a.regexp);var u=l.exec(r);if(u){var f=n||e.exports.now();c.forEach((function(e,t){e.fn(f,u[t+1])}));return f}throw new Error("String '"+r+"' could not be parsed as '"+t+"'")}function parse(e,t,r){if(!e){throw new Error("pattern must be supplied")}return extractDateParts(e,t,r)}function now(){return new Date}e.exports=asString;e.exports.asString=asString;e.exports.parse=parse;e.exports.now=now;e.exports.ISO8601_FORMAT="yyyy-MM-ddThh:mm:ss.SSS";e.exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ss.SSSO";e.exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS";e.exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS"},4621:(e,t,r)=>{t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.destroy=(()=>{let e=false;return()=>{if(!e){e=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}let e;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0;let o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{if(e==="%%"){return}n++;if(e==="%c"){o=n}}));t.splice(o,0,r)}t.log=console.debug||console.log||(()=>{});function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){let e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=r(4283)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},4283:(e,t,r)=>{function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=r(5913);createDebug.destroy=destroy;Object.keys(e).forEach((t=>{createDebug[t]=e[t]}));createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let t;let r=null;let n;let o;function debug(...e){if(!debug.enabled){return}const r=debug;const n=Number(new Date);const o=n-(t||n);r.diff=o;r.prev=t;r.curr=n;t=n;e[0]=createDebug.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,n)=>{if(t==="%%"){return"%"}i++;const o=createDebug.formatters[n];if(typeof o==="function"){const n=e[i];t=o.call(r,n);e.splice(i,1);i--}return t}));createDebug.formatArgs.call(r,e);const s=r.log||createDebug.log;s.apply(r,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(r!==null){return r}if(n!==createDebug.namespaces){n=createDebug.namespaces;o=createDebug.enabled(e)}return o},set:e=>{r=e}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(e,t){const r=createDebug(this.namespace+(typeof t==="undefined"?":":t)+e);r.log=this.log;return r}function enable(e){createDebug.save(e);createDebug.namespaces=e;createDebug.names=[];createDebug.skips=[];const t=(typeof e==="string"?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of t){if(e[0]==="-"){createDebug.skips.push(e.slice(1))}else{createDebug.names.push(e)}}}function matchesTemplate(e,t){let r=0;let n=0;let o=-1;let i=0;while(r<e.length){if(n<t.length&&(t[n]===e[r]||t[n]==="*")){if(t[n]==="*"){o=n;i=r;n++}else{r++;n++}}else if(o!==-1){n=o+1;i++;r=i}else{return false}}while(n<t.length&&t[n]==="*"){n++}return n===t.length}function disable(){const e=[...createDebug.names,...createDebug.skips.map((e=>"-"+e))].join(",");createDebug.enable("");return e}function enabled(e){for(const t of createDebug.skips){if(matchesTemplate(e,t)){return false}}for(const t of createDebug.names){if(matchesTemplate(e,t)){return true}}return false}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},9115:(e,t,r)=>{if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=r(4621)}else{e.exports=r(1725)}},1725:(e,t,r)=>{const n=r(6224);const o=r(3837);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");t.colors=[6,2,3,4,5,1];try{const e=r(4432);if(e&&(e.stderr||e).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];if(/^(yes|on|true|enabled)$/i.test(n)){n=true}else if(/^(no|off|false|disabled)$/i.test(n)){n=false}else if(n==="null"){n=null}else{n=Number(n)}e[r]=n;return e}),{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)}function formatArgs(t){const{namespace:r,useColors:n}=this;if(n){const n=this.color;const o="[3"+(n<8?n:"8;5;"+n);const i=`  ${o};1m${r} [0m`;t[0]=i+t[0].split("\n").join("\n"+i);t.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+r+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...e){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...e)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++){e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}}e.exports=r(4283)(t);const{formatters:i}=e.exports;i.o=function(e){this.inspectOpts.colors=this.useColors;return o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")};i.O=function(e){this.inspectOpts.colors=this.useColors;return o.inspect(e,this.inspectOpts)}},3967:(e,t,r)=>{var n=r(6053).Buffer;var o=r(8718);var i=128,s=0,a=32,c=16,l=2,u=c|a|s<<6,f=l|s<<6;function base64Url(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function signatureAsBuffer(e){if(n.isBuffer(e)){return e}else if("string"===typeof e){return n.from(e,"base64")}throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function derToJose(e,t){e=signatureAsBuffer(e);var r=o(t);var s=r+1;var a=e.length;var c=0;if(e[c++]!==u){throw new Error('Could not find expected "seq"')}var l=e[c++];if(l===(i|1)){l=e[c++]}if(a-c<l){throw new Error('"seq" specified length of "'+l+'", only "'+(a-c)+'" remaining')}if(e[c++]!==f){throw new Error('Could not find expected "int" for "r"')}var p=e[c++];if(a-c-2<p){throw new Error('"r" specified length of "'+p+'", only "'+(a-c-2)+'" available')}if(s<p){throw new Error('"r" specified length of "'+p+'", max of "'+s+'" is acceptable')}var d=c;c+=p;if(e[c++]!==f){throw new Error('Could not find expected "int" for "s"')}var h=e[c++];if(a-c!==h){throw new Error('"s" specified length of "'+h+'", expected "'+(a-c)+'"')}if(s<h){throw new Error('"s" specified length of "'+h+'", max of "'+s+'" is acceptable')}var m=c;c+=h;if(c!==a){throw new Error('Expected to consume entire buffer, but "'+(a-c)+'" bytes remain')}var y=r-p,g=r-h;var S=n.allocUnsafe(y+p+g+h);for(c=0;c<y;++c){S[c]=0}e.copy(S,c,d+Math.max(-y,0),d+p);c=r;for(var v=c;c<v+g;++c){S[c]=0}e.copy(S,c,m+Math.max(-g,0),m+h);S=S.toString("base64");S=base64Url(S);return S}function countPadding(e,t,r){var n=0;while(t+n<r&&e[t+n]===0){++n}var o=e[t+n]>=i;if(o){--n}return n}function joseToDer(e,t){e=signatureAsBuffer(e);var r=o(t);var s=e.length;if(s!==r*2){throw new TypeError('"'+t+'" signatures must be "'+r*2+'" bytes, saw "'+s+'"')}var a=countPadding(e,0,r);var c=countPadding(e,r,e.length);var l=r-a;var p=r-c;var d=1+1+l+1+1+p;var h=d<i;var m=n.allocUnsafe((h?2:3)+d);var y=0;m[y++]=u;if(h){m[y++]=d}else{m[y++]=i|1;m[y++]=d&255}m[y++]=f;m[y++]=l;if(a<0){m[y++]=0;y+=e.copy(m,y,0,r)}else{y+=e.copy(m,y,a,r)}m[y++]=f;m[y++]=p;if(c<0){m[y++]=0;e.copy(m,y,r)}else{e.copy(m,y,r+c)}return m}e.exports={derToJose:derToJose,joseToDer:joseToDer}},8718:e=>{function getParamSize(e){var t=(e/8|0)+(e%8===0?0:1);return t}var t={ES256:getParamSize(256),ES384:getParamSize(384),ES512:getParamSize(521)};function getParamBytesForAlg(e){var r=t[e];if(r){return r}throw new Error('Unknown algorithm "'+e+'"')}e.exports=getParamBytesForAlg},9134:(e,t,r)=>{const n=r(6820);const o=r(1017);const i=r(2493).mkdirsSync;const s=r(3488).utimesMillisSync;const a=r(8261);function copySync(e,t,r){if(typeof r==="function"){r={filter:r}}r=r||{};r.clobber="clobber"in r?!!r.clobber:true;r.overwrite="overwrite"in r?!!r.overwrite:r.clobber;if(r.preserveTimestamps&&process.arch==="ia32"){console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)}const{srcStat:n,destStat:o}=a.checkPathsSync(e,t,"copy");a.checkParentPathsSync(e,n,t,"copy");return handleFilterAndCopy(o,e,t,r)}function handleFilterAndCopy(e,t,r,s){if(s.filter&&!s.filter(t,r))return;const a=o.dirname(r);if(!n.existsSync(a))i(a);return startCopy(e,t,r,s)}function startCopy(e,t,r,n){if(n.filter&&!n.filter(t,r))return;return getStats(e,t,r,n)}function getStats(e,t,r,o){const i=o.dereference?n.statSync:n.lstatSync;const s=i(t);if(s.isDirectory())return onDir(s,e,t,r,o);else if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return onFile(s,e,t,r,o);else if(s.isSymbolicLink())return onLink(e,t,r,o)}function onFile(e,t,r,n,o){if(!t)return copyFile(e,r,n,o);return mayCopyFile(e,r,n,o)}function mayCopyFile(e,t,r,o){if(o.overwrite){n.unlinkSync(r);return copyFile(e,t,r,o)}else if(o.errorOnExist){throw new Error(`'${r}' already exists`)}}function copyFile(e,t,r,o){if(typeof n.copyFileSync==="function"){n.copyFileSync(t,r);n.chmodSync(r,e.mode);if(o.preserveTimestamps){return s(r,e.atime,e.mtime)}return}return copyFileFallback(e,t,r,o)}function copyFileFallback(e,t,o,i){const s=64*1024;const a=r(7363)(s);const c=n.openSync(t,"r");const l=n.openSync(o,"w",e.mode);let u=0;while(u<e.size){const e=n.readSync(c,a,0,s,u);n.writeSync(l,a,0,e);u+=e}if(i.preserveTimestamps)n.futimesSync(l,e.atime,e.mtime);n.closeSync(c);n.closeSync(l)}function onDir(e,t,r,n,o){if(!t)return mkDirAndCopy(e,r,n,o);if(t&&!t.isDirectory()){throw new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`)}return copyDir(r,n,o)}function mkDirAndCopy(e,t,r,o){n.mkdirSync(r);copyDir(t,r,o);return n.chmodSync(r,e.mode)}function copyDir(e,t,r){n.readdirSync(e).forEach((n=>copyDirItem(n,e,t,r)))}function copyDirItem(e,t,r,n){const i=o.join(t,e);const s=o.join(r,e);const{destStat:c}=a.checkPathsSync(i,s,"copy");return startCopy(c,i,s,n)}function onLink(e,t,r,i){let s=n.readlinkSync(t);if(i.dereference){s=o.resolve(process.cwd(),s)}if(!e){return n.symlinkSync(s,r)}else{let e;try{e=n.readlinkSync(r)}catch(e){if(e.code==="EINVAL"||e.code==="UNKNOWN")return n.symlinkSync(s,r);throw e}if(i.dereference){e=o.resolve(process.cwd(),e)}if(a.isSrcSubdir(s,e)){throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`)}if(n.statSync(r).isDirectory()&&a.isSrcSubdir(e,s)){throw new Error(`Cannot overwrite '${e}' with '${s}'.`)}return copyLink(s,r)}}function copyLink(e,t){n.unlinkSync(t);return n.symlinkSync(e,t)}e.exports=copySync},2210:(e,t,r)=>{e.exports={copySync:r(9134)}},1709:(e,t,r)=>{const n=r(6820);const o=r(1017);const i=r(2493).mkdirs;const s=r(8195).pathExists;const a=r(3488).utimesMillis;const c=r(8261);function copy(e,t,r,n){if(typeof r==="function"&&!n){n=r;r={}}else if(typeof r==="function"){r={filter:r}}n=n||function(){};r=r||{};r.clobber="clobber"in r?!!r.clobber:true;r.overwrite="overwrite"in r?!!r.overwrite:r.clobber;if(r.preserveTimestamps&&process.arch==="ia32"){console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)}c.checkPaths(e,t,"copy",((o,i)=>{if(o)return n(o);const{srcStat:s,destStat:a}=i;c.checkParentPaths(e,s,t,"copy",(o=>{if(o)return n(o);if(r.filter)return handleFilter(checkParentDir,a,e,t,r,n);return checkParentDir(a,e,t,r,n)}))}))}function checkParentDir(e,t,r,n,a){const c=o.dirname(r);s(c,((o,s)=>{if(o)return a(o);if(s)return startCopy(e,t,r,n,a);i(c,(o=>{if(o)return a(o);return startCopy(e,t,r,n,a)}))}))}function handleFilter(e,t,r,n,o,i){Promise.resolve(o.filter(r,n)).then((s=>{if(s)return e(t,r,n,o,i);return i()}),(e=>i(e)))}function startCopy(e,t,r,n,o){if(n.filter)return handleFilter(getStats,e,t,r,n,o);return getStats(e,t,r,n,o)}function getStats(e,t,r,o,i){const s=o.dereference?n.stat:n.lstat;s(t,((n,s)=>{if(n)return i(n);if(s.isDirectory())return onDir(s,e,t,r,o,i);else if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return onFile(s,e,t,r,o,i);else if(s.isSymbolicLink())return onLink(e,t,r,o,i)}))}function onFile(e,t,r,n,o,i){if(!t)return copyFile(e,r,n,o,i);return mayCopyFile(e,r,n,o,i)}function mayCopyFile(e,t,r,o,i){if(o.overwrite){n.unlink(r,(n=>{if(n)return i(n);return copyFile(e,t,r,o,i)}))}else if(o.errorOnExist){return i(new Error(`'${r}' already exists`))}else return i()}function copyFile(e,t,r,o,i){if(typeof n.copyFile==="function"){return n.copyFile(t,r,(t=>{if(t)return i(t);return setDestModeAndTimestamps(e,r,o,i)}))}return copyFileFallback(e,t,r,o,i)}function copyFileFallback(e,t,r,o,i){const s=n.createReadStream(t);s.on("error",(e=>i(e))).once("open",(()=>{const t=n.createWriteStream(r,{mode:e.mode});t.on("error",(e=>i(e))).on("open",(()=>s.pipe(t))).once("close",(()=>setDestModeAndTimestamps(e,r,o,i)))}))}function setDestModeAndTimestamps(e,t,r,o){n.chmod(t,e.mode,(n=>{if(n)return o(n);if(r.preserveTimestamps){return a(t,e.atime,e.mtime,o)}return o()}))}function onDir(e,t,r,n,o,i){if(!t)return mkDirAndCopy(e,r,n,o,i);if(t&&!t.isDirectory()){return i(new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`))}return copyDir(r,n,o,i)}function mkDirAndCopy(e,t,r,o,i){n.mkdir(r,(s=>{if(s)return i(s);copyDir(t,r,o,(t=>{if(t)return i(t);return n.chmod(r,e.mode,i)}))}))}function copyDir(e,t,r,o){n.readdir(e,((n,i)=>{if(n)return o(n);return copyDirItems(i,e,t,r,o)}))}function copyDirItems(e,t,r,n,o){const i=e.pop();if(!i)return o();return copyDirItem(e,i,t,r,n,o)}function copyDirItem(e,t,r,n,i,s){const a=o.join(r,t);const l=o.join(n,t);c.checkPaths(a,l,"copy",((t,o)=>{if(t)return s(t);const{destStat:c}=o;startCopy(c,a,l,i,(t=>{if(t)return s(t);return copyDirItems(e,r,n,i,s)}))}))}function onLink(e,t,r,i,s){n.readlink(t,((t,a)=>{if(t)return s(t);if(i.dereference){a=o.resolve(process.cwd(),a)}if(!e){return n.symlink(a,r,s)}else{n.readlink(r,((t,l)=>{if(t){if(t.code==="EINVAL"||t.code==="UNKNOWN")return n.symlink(a,r,s);return s(t)}if(i.dereference){l=o.resolve(process.cwd(),l)}if(c.isSrcSubdir(a,l)){return s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${l}'.`))}if(e.isDirectory()&&c.isSrcSubdir(l,a)){return s(new Error(`Cannot overwrite '${l}' with '${a}'.`))}return copyLink(a,r,s)}))}}))}function copyLink(e,t,r){n.unlink(t,(o=>{if(o)return r(o);return n.symlink(e,t,r)}))}e.exports=copy},2991:(e,t,r)=>{const n=r(8890).E;e.exports={copy:n(r(1709))}},2856:(e,t,r)=>{const n=r(8890).E;const o=r(6820);const i=r(1017);const s=r(2493);const a=r(8511);const c=n((function emptyDir(e,t){t=t||function(){};o.readdir(e,((r,n)=>{if(r)return s.mkdirs(e,t);n=n.map((t=>i.join(e,t)));deleteItem();function deleteItem(){const e=n.pop();if(!e)return t();a.remove(e,(e=>{if(e)return t(e);deleteItem()}))}}))}));function emptyDirSync(e){let t;try{t=o.readdirSync(e)}catch(t){return s.mkdirsSync(e)}t.forEach((t=>{t=i.join(e,t);a.removeSync(t)}))}e.exports={emptyDirSync:emptyDirSync,emptydirSync:emptyDirSync,emptyDir:c,emptydir:c}},8924:(e,t,r)=>{const n=r(8890).E;const o=r(1017);const i=r(6820);const s=r(2493);const a=r(8195).pathExists;function createFile(e,t){function makeFile(){i.writeFile(e,"",(e=>{if(e)return t(e);t()}))}i.stat(e,((r,n)=>{if(!r&&n.isFile())return t();const i=o.dirname(e);a(i,((e,r)=>{if(e)return t(e);if(r)return makeFile();s.mkdirs(i,(e=>{if(e)return t(e);makeFile()}))}))}))}function createFileSync(e){let t;try{t=i.statSync(e)}catch(e){}if(t&&t.isFile())return;const r=o.dirname(e);if(!i.existsSync(r)){s.mkdirsSync(r)}i.writeFileSync(e,"")}e.exports={createFile:n(createFile),createFileSync:createFileSync}},2353:(e,t,r)=>{const n=r(8924);const o=r(6366);const i=r(4290);e.exports={createFile:n.createFile,createFileSync:n.createFileSync,ensureFile:n.createFile,ensureFileSync:n.createFileSync,createLink:o.createLink,createLinkSync:o.createLinkSync,ensureLink:o.createLink,ensureLinkSync:o.createLinkSync,createSymlink:i.createSymlink,createSymlinkSync:i.createSymlinkSync,ensureSymlink:i.createSymlink,ensureSymlinkSync:i.createSymlinkSync}},6366:(e,t,r)=>{const n=r(8890).E;const o=r(1017);const i=r(6820);const s=r(2493);const a=r(8195).pathExists;function createLink(e,t,r){function makeLink(e,t){i.link(e,t,(e=>{if(e)return r(e);r(null)}))}a(t,((n,c)=>{if(n)return r(n);if(c)return r(null);i.lstat(e,(n=>{if(n){n.message=n.message.replace("lstat","ensureLink");return r(n)}const i=o.dirname(t);a(i,((n,o)=>{if(n)return r(n);if(o)return makeLink(e,t);s.mkdirs(i,(n=>{if(n)return r(n);makeLink(e,t)}))}))}))}))}function createLinkSync(e,t){const r=i.existsSync(t);if(r)return undefined;try{i.lstatSync(e)}catch(e){e.message=e.message.replace("lstat","ensureLink");throw e}const n=o.dirname(t);const a=i.existsSync(n);if(a)return i.linkSync(e,t);s.mkdirsSync(n);return i.linkSync(e,t)}e.exports={createLink:n(createLink),createLinkSync:createLinkSync}},3432:(e,t,r)=>{const n=r(1017);const o=r(6820);const i=r(8195).pathExists;function symlinkPaths(e,t,r){if(n.isAbsolute(e)){return o.lstat(e,(t=>{if(t){t.message=t.message.replace("lstat","ensureSymlink");return r(t)}return r(null,{toCwd:e,toDst:e})}))}else{const s=n.dirname(t);const a=n.join(s,e);return i(a,((t,i)=>{if(t)return r(t);if(i){return r(null,{toCwd:a,toDst:e})}else{return o.lstat(e,(t=>{if(t){t.message=t.message.replace("lstat","ensureSymlink");return r(t)}return r(null,{toCwd:e,toDst:n.relative(s,e)})}))}}))}}function symlinkPathsSync(e,t){let r;if(n.isAbsolute(e)){r=o.existsSync(e);if(!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const i=n.dirname(t);const s=n.join(i,e);r=o.existsSync(s);if(r){return{toCwd:s,toDst:e}}else{r=o.existsSync(e);if(!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:n.relative(i,e)}}}}e.exports={symlinkPaths:symlinkPaths,symlinkPathsSync:symlinkPathsSync}},5894:(e,t,r)=>{const n=r(6820);function symlinkType(e,t,r){r=typeof t==="function"?t:r;t=typeof t==="function"?false:t;if(t)return r(null,t);n.lstat(e,((e,n)=>{if(e)return r(null,"file");t=n&&n.isDirectory()?"dir":"file";r(null,t)}))}function symlinkTypeSync(e,t){let r;if(t)return t;try{r=n.lstatSync(e)}catch(e){return"file"}return r&&r.isDirectory()?"dir":"file"}e.exports={symlinkType:symlinkType,symlinkTypeSync:symlinkTypeSync}},4290:(e,t,r)=>{const n=r(8890).E;const o=r(1017);const i=r(6820);const s=r(2493);const a=s.mkdirs;const c=s.mkdirsSync;const l=r(3432);const u=l.symlinkPaths;const f=l.symlinkPathsSync;const p=r(5894);const d=p.symlinkType;const h=p.symlinkTypeSync;const m=r(8195).pathExists;function createSymlink(e,t,r,n){n=typeof r==="function"?r:n;r=typeof r==="function"?false:r;m(t,((s,c)=>{if(s)return n(s);if(c)return n(null);u(e,t,((s,c)=>{if(s)return n(s);e=c.toDst;d(c.toCwd,r,((r,s)=>{if(r)return n(r);const c=o.dirname(t);m(c,((r,o)=>{if(r)return n(r);if(o)return i.symlink(e,t,s,n);a(c,(r=>{if(r)return n(r);i.symlink(e,t,s,n)}))}))}))}))}))}function createSymlinkSync(e,t,r){const n=i.existsSync(t);if(n)return undefined;const s=f(e,t);e=s.toDst;r=h(s.toCwd,r);const a=o.dirname(t);const l=i.existsSync(a);if(l)return i.symlinkSync(e,t,r);c(a);return i.symlinkSync(e,t,r)}e.exports={createSymlink:n(createSymlink),createSymlinkSync:createSymlinkSync}},1595:(e,t,r)=>{const n=r(8890).E;const o=r(6820);const i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>typeof o[e]==="function"));Object.keys(o).forEach((e=>{if(e==="promises"){return}t[e]=o[e]}));i.forEach((e=>{t[e]=n(o[e])}));t.exists=function(e,t){if(typeof t==="function"){return o.exists(e,t)}return new Promise((t=>o.exists(e,t)))};t.read=function(e,t,r,n,i,s){if(typeof s==="function"){return o.read(e,t,r,n,i,s)}return new Promise(((s,a)=>{o.read(e,t,r,n,i,((e,t,r)=>{if(e)return a(e);s({bytesRead:t,buffer:r})}))}))};t.write=function(e,t,...r){if(typeof r[r.length-1]==="function"){return o.write(e,t,...r)}return new Promise(((n,i)=>{o.write(e,t,...r,((e,t,r)=>{if(e)return i(e);n({bytesWritten:t,buffer:r})}))}))};if(typeof o.realpath.native==="function"){t.realpath.native=n(o.realpath.native)}},3543:(e,t,r)=>{e.exports=Object.assign({},r(1595),r(2210),r(2991),r(2856),r(2353),r(6850),r(2493),r(5153),r(8934),r(7856),r(8195),r(8511));const n=r(7147);if(Object.getOwnPropertyDescriptor(n,"promises")){Object.defineProperty(e.exports,"promises",{get(){return n.promises}})}},6850:(e,t,r)=>{const n=r(8890).E;const o=r(6049);o.outputJson=n(r(7986));o.outputJsonSync=r(1299);o.outputJSON=o.outputJson;o.outputJSONSync=o.outputJsonSync;o.writeJSON=o.writeJson;o.writeJSONSync=o.writeJsonSync;o.readJSON=o.readJson;o.readJSONSync=o.readJsonSync;e.exports=o},6049:(e,t,r)=>{const n=r(8890).E;const o=r(5626);e.exports={readJson:n(o.readFile),readJsonSync:o.readFileSync,writeJson:n(o.writeFile),writeJsonSync:o.writeFileSync}},1299:(e,t,r)=>{const n=r(6820);const o=r(1017);const i=r(2493);const s=r(6049);function outputJsonSync(e,t,r){const a=o.dirname(e);if(!n.existsSync(a)){i.mkdirsSync(a)}s.writeJsonSync(e,t,r)}e.exports=outputJsonSync},7986:(e,t,r)=>{const n=r(1017);const o=r(2493);const i=r(8195).pathExists;const s=r(6049);function outputJson(e,t,r,a){if(typeof r==="function"){a=r;r={}}const c=n.dirname(e);i(c,((n,i)=>{if(n)return a(n);if(i)return s.writeJson(e,t,r,a);o.mkdirs(c,(n=>{if(n)return a(n);s.writeJson(e,t,r,a)}))}))}e.exports=outputJson},2493:(e,t,r)=>{const n=r(8890).E;const o=n(r(4412));const i=r(4903);e.exports={mkdirs:o,mkdirsSync:i,mkdirp:o,mkdirpSync:i,ensureDir:o,ensureDirSync:i}},4903:(e,t,r)=>{const n=r(6820);const o=r(1017);const i=r(1318).invalidWin32Path;const s=parseInt("0777",8);function mkdirsSync(e,t,r){if(!t||typeof t!=="object"){t={mode:t}}let a=t.mode;const c=t.fs||n;if(process.platform==="win32"&&i(e)){const t=new Error(e+" contains invalid WIN32 path characters.");t.code="EINVAL";throw t}if(a===undefined){a=s&~process.umask()}if(!r)r=null;e=o.resolve(e);try{c.mkdirSync(e,a);r=r||e}catch(n){if(n.code==="ENOENT"){if(o.dirname(e)===e)throw n;r=mkdirsSync(o.dirname(e),t,r);mkdirsSync(e,t,r)}else{let t;try{t=c.statSync(e)}catch(e){throw n}if(!t.isDirectory())throw n}}return r}e.exports=mkdirsSync},4412:(e,t,r)=>{const n=r(6820);const o=r(1017);const i=r(1318).invalidWin32Path;const s=parseInt("0777",8);function mkdirs(e,t,r,a){if(typeof t==="function"){r=t;t={}}else if(!t||typeof t!=="object"){t={mode:t}}if(process.platform==="win32"&&i(e)){const t=new Error(e+" contains invalid WIN32 path characters.");t.code="EINVAL";return r(t)}let c=t.mode;const l=t.fs||n;if(c===undefined){c=s&~process.umask()}if(!a)a=null;r=r||function(){};e=o.resolve(e);l.mkdir(e,c,(n=>{if(!n){a=a||e;return r(null,a)}switch(n.code){case"ENOENT":if(o.dirname(e)===e)return r(n);mkdirs(o.dirname(e),t,((n,o)=>{if(n)r(n,o);else mkdirs(e,t,r,o)}));break;default:l.stat(e,((e,t)=>{if(e||!t.isDirectory())r(n,a);else r(null,a)}));break}}))}e.exports=mkdirs},1318:(e,t,r)=>{const n=r(1017);function getRootPath(e){e=n.normalize(n.resolve(e)).split(n.sep);if(e.length>0)return e[0];return null}const o=/[<>:"|?*]/;function invalidWin32Path(e){const t=getRootPath(e);e=e.replace(t,"");return o.test(e)}e.exports={getRootPath:getRootPath,invalidWin32Path:invalidWin32Path}},5153:(e,t,r)=>{e.exports={moveSync:r(7933)}},7933:(e,t,r)=>{const n=r(6820);const o=r(1017);const i=r(2210).copySync;const s=r(8511).removeSync;const a=r(2493).mkdirpSync;const c=r(8261);function moveSync(e,t,r){r=r||{};const n=r.overwrite||r.clobber||false;const{srcStat:i}=c.checkPathsSync(e,t,"move");c.checkParentPathsSync(e,i,t,"move");a(o.dirname(t));return doRename(e,t,n)}function doRename(e,t,r){if(r){s(t);return rename(e,t,r)}if(n.existsSync(t))throw new Error("dest already exists.");return rename(e,t,r)}function rename(e,t,r){try{n.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return moveAcrossDevice(e,t,r)}}function moveAcrossDevice(e,t,r){const n={overwrite:r,errorOnExist:true};i(e,t,n);return s(e)}e.exports=moveSync},8934:(e,t,r)=>{const n=r(8890).E;e.exports={move:n(r(649))}},649:(e,t,r)=>{const n=r(6820);const o=r(1017);const i=r(2991).copy;const s=r(8511).remove;const a=r(2493).mkdirp;const c=r(8195).pathExists;const l=r(8261);function move(e,t,r,n){if(typeof r==="function"){n=r;r={}}const i=r.overwrite||r.clobber||false;l.checkPaths(e,t,"move",((r,s)=>{if(r)return n(r);const{srcStat:c}=s;l.checkParentPaths(e,c,t,"move",(r=>{if(r)return n(r);a(o.dirname(t),(r=>{if(r)return n(r);return doRename(e,t,i,n)}))}))}))}function doRename(e,t,r,n){if(r){return s(t,(o=>{if(o)return n(o);return rename(e,t,r,n)}))}c(t,((o,i)=>{if(o)return n(o);if(i)return n(new Error("dest already exists."));return rename(e,t,r,n)}))}function rename(e,t,r,o){n.rename(e,t,(n=>{if(!n)return o();if(n.code!=="EXDEV")return o(n);return moveAcrossDevice(e,t,r,o)}))}function moveAcrossDevice(e,t,r,n){const o={overwrite:r,errorOnExist:true};i(e,t,o,(t=>{if(t)return n(t);return s(e,n)}))}e.exports=move},7856:(e,t,r)=>{const n=r(8890).E;const o=r(6820);const i=r(1017);const s=r(2493);const a=r(8195).pathExists;function outputFile(e,t,r,n){if(typeof r==="function"){n=r;r="utf8"}const c=i.dirname(e);a(c,((i,a)=>{if(i)return n(i);if(a)return o.writeFile(e,t,r,n);s.mkdirs(c,(i=>{if(i)return n(i);o.writeFile(e,t,r,n)}))}))}function outputFileSync(e,...t){const r=i.dirname(e);if(o.existsSync(r)){return o.writeFileSync(e,...t)}s.mkdirsSync(r);o.writeFileSync(e,...t)}e.exports={outputFile:n(outputFile),outputFileSync:outputFileSync}},8195:(e,t,r)=>{const n=r(8890).p;const o=r(1595);function pathExists(e){return o.access(e).then((()=>true)).catch((()=>false))}e.exports={pathExists:n(pathExists),pathExistsSync:o.existsSync}},8511:(e,t,r)=>{const n=r(8890).E;const o=r(7093);e.exports={remove:n(o),removeSync:o.sync}},7093:(e,t,r)=>{const n=r(6820);const o=r(1017);const i=r(9491);const s=process.platform==="win32";function defaults(e){const t=["unlink","chmod","stat","lstat","rmdir","readdir"];t.forEach((t=>{e[t]=e[t]||n[t];t=t+"Sync";e[t]=e[t]||n[t]}));e.maxBusyTries=e.maxBusyTries||3}function rimraf(e,t,r){let n=0;if(typeof t==="function"){r=t;t={}}i(e,"rimraf: missing path");i.strictEqual(typeof e,"string","rimraf: path should be a string");i.strictEqual(typeof r,"function","rimraf: callback function required");i(t,"rimraf: invalid options argument provided");i.strictEqual(typeof t,"object","rimraf: options should be object");defaults(t);rimraf_(e,t,(function CB(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&n<t.maxBusyTries){n++;const r=n*100;return setTimeout((()=>rimraf_(e,t,CB)),r)}if(o.code==="ENOENT")o=null}r(o)}))}function rimraf_(e,t,r){i(e);i(t);i(typeof r==="function");t.lstat(e,((n,o)=>{if(n&&n.code==="ENOENT"){return r(null)}if(n&&n.code==="EPERM"&&s){return fixWinEPERM(e,t,n,r)}if(o&&o.isDirectory()){return rmdir(e,t,n,r)}t.unlink(e,(n=>{if(n){if(n.code==="ENOENT"){return r(null)}if(n.code==="EPERM"){return s?fixWinEPERM(e,t,n,r):rmdir(e,t,n,r)}if(n.code==="EISDIR"){return rmdir(e,t,n,r)}}return r(n)}))}))}function fixWinEPERM(e,t,r,n){i(e);i(t);i(typeof n==="function");if(r){i(r instanceof Error)}t.chmod(e,438,(o=>{if(o){n(o.code==="ENOENT"?null:r)}else{t.stat(e,((o,i)=>{if(o){n(o.code==="ENOENT"?null:r)}else if(i.isDirectory()){rmdir(e,t,r,n)}else{t.unlink(e,n)}}))}}))}function fixWinEPERMSync(e,t,r){let n;i(e);i(t);if(r){i(r instanceof Error)}try{t.chmodSync(e,438)}catch(e){if(e.code==="ENOENT"){return}else{throw r}}try{n=t.statSync(e)}catch(e){if(e.code==="ENOENT"){return}else{throw r}}if(n.isDirectory()){rmdirSync(e,t,r)}else{t.unlinkSync(e)}}function rmdir(e,t,r,n){i(e);i(t);if(r){i(r instanceof Error)}i(typeof n==="function");t.rmdir(e,(o=>{if(o&&(o.code==="ENOTEMPTY"||o.code==="EEXIST"||o.code==="EPERM")){rmkids(e,t,n)}else if(o&&o.code==="ENOTDIR"){n(r)}else{n(o)}}))}function rmkids(e,t,r){i(e);i(t);i(typeof r==="function");t.readdir(e,((n,i)=>{if(n)return r(n);let s=i.length;let a;if(s===0)return t.rmdir(e,r);i.forEach((n=>{rimraf(o.join(e,n),t,(n=>{if(a){return}if(n)return r(a=n);if(--s===0){t.rmdir(e,r)}}))}))}))}function rimrafSync(e,t){let r;t=t||{};defaults(t);i(e,"rimraf: missing path");i.strictEqual(typeof e,"string","rimraf: path should be a string");i(t,"rimraf: missing options");i.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(r){if(r.code==="ENOENT"){return}if(r.code==="EPERM"&&s){fixWinEPERMSync(e,t,r)}}try{if(r&&r.isDirectory()){rmdirSync(e,t,null)}else{t.unlinkSync(e)}}catch(r){if(r.code==="ENOENT"){return}else if(r.code==="EPERM"){return s?fixWinEPERMSync(e,t,r):rmdirSync(e,t,r)}else if(r.code!=="EISDIR"){throw r}rmdirSync(e,t,r)}}function rmdirSync(e,t,r){i(e);i(t);if(r){i(r instanceof Error)}try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR"){throw r}else if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM"){rmkidsSync(e,t)}else if(n.code!=="ENOENT"){throw n}}}function rmkidsSync(e,t){i(e);i(t);t.readdirSync(e).forEach((r=>rimrafSync(o.join(e,r),t)));if(s){const r=Date.now();do{try{const r=t.rmdirSync(e,t);return r}catch(e){}}while(Date.now()-r<500)}else{const r=t.rmdirSync(e,t);return r}}e.exports=rimraf;rimraf.sync=rimrafSync},7363:e=>{e.exports=function(e){if(typeof Buffer.allocUnsafe==="function"){try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}}return new Buffer(e)}},8261:(e,t,r)=>{const n=r(6820);const o=r(1017);const i=10;const s=5;const a=0;const c=process.versions.node.split(".");const l=Number.parseInt(c[0],10);const u=Number.parseInt(c[1],10);const f=Number.parseInt(c[2],10);function nodeSupportsBigInt(){if(l>i){return true}else if(l===i){if(u>s){return true}else if(u===s){if(f>=a){return true}}}return false}function getStats(e,t,r){if(nodeSupportsBigInt()){n.stat(e,{bigint:true},((e,o)=>{if(e)return r(e);n.stat(t,{bigint:true},((e,t)=>{if(e){if(e.code==="ENOENT")return r(null,{srcStat:o,destStat:null});return r(e)}return r(null,{srcStat:o,destStat:t})}))}))}else{n.stat(e,((e,o)=>{if(e)return r(e);n.stat(t,((e,t)=>{if(e){if(e.code==="ENOENT")return r(null,{srcStat:o,destStat:null});return r(e)}return r(null,{srcStat:o,destStat:t})}))}))}}function getStatsSync(e,t){let r,o;if(nodeSupportsBigInt()){r=n.statSync(e,{bigint:true})}else{r=n.statSync(e)}try{if(nodeSupportsBigInt()){o=n.statSync(t,{bigint:true})}else{o=n.statSync(t)}}catch(e){if(e.code==="ENOENT")return{srcStat:r,destStat:null};throw e}return{srcStat:r,destStat:o}}function checkPaths(e,t,r,n){getStats(e,t,((o,i)=>{if(o)return n(o);const{srcStat:s,destStat:a}=i;if(a&&a.ino&&a.dev&&a.ino===s.ino&&a.dev===s.dev){return n(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&isSrcSubdir(e,t)){return n(new Error(errMsg(e,t,r)))}return n(null,{srcStat:s,destStat:a})}))}function checkPathsSync(e,t,r){const{srcStat:n,destStat:o}=getStatsSync(e,t);if(o&&o.ino&&o.dev&&o.ino===n.ino&&o.dev===n.dev){throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&isSrcSubdir(e,t)){throw new Error(errMsg(e,t,r))}return{srcStat:n,destStat:o}}function checkParentPaths(e,t,r,i,s){const a=o.resolve(o.dirname(e));const c=o.resolve(o.dirname(r));if(c===a||c===o.parse(c).root)return s();if(nodeSupportsBigInt()){n.stat(c,{bigint:true},((n,o)=>{if(n){if(n.code==="ENOENT")return s();return s(n)}if(o.ino&&o.dev&&o.ino===t.ino&&o.dev===t.dev){return s(new Error(errMsg(e,r,i)))}return checkParentPaths(e,t,c,i,s)}))}else{n.stat(c,((n,o)=>{if(n){if(n.code==="ENOENT")return s();return s(n)}if(o.ino&&o.dev&&o.ino===t.ino&&o.dev===t.dev){return s(new Error(errMsg(e,r,i)))}return checkParentPaths(e,t,c,i,s)}))}}function checkParentPathsSync(e,t,r,i){const s=o.resolve(o.dirname(e));const a=o.resolve(o.dirname(r));if(a===s||a===o.parse(a).root)return;let c;try{if(nodeSupportsBigInt()){c=n.statSync(a,{bigint:true})}else{c=n.statSync(a)}}catch(e){if(e.code==="ENOENT")return;throw e}if(c.ino&&c.dev&&c.ino===t.ino&&c.dev===t.dev){throw new Error(errMsg(e,r,i))}return checkParentPathsSync(e,t,a,i)}function isSrcSubdir(e,t){const r=o.resolve(e).split(o.sep).filter((e=>e));const n=o.resolve(t).split(o.sep).filter((e=>e));return r.reduce(((e,t,r)=>e&&n[r]===t),true)}function errMsg(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:checkPaths,checkPathsSync:checkPathsSync,checkParentPaths:checkParentPaths,checkParentPathsSync:checkParentPathsSync,isSrcSubdir:isSrcSubdir}},3488:(e,t,r)=>{const n=r(6820);const o=r(2037);const i=r(1017);function hasMillisResSync(){let e=i.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=i.join(o.tmpdir(),e);const t=new Date(1435410243862);n.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const r=n.openSync(e,"r+");n.futimesSync(r,t,t);n.closeSync(r);return n.statSync(e).mtime>1435410243e3}function hasMillisRes(e){let t=i.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=i.join(o.tmpdir(),t);const r=new Date(1435410243862);n.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",(o=>{if(o)return e(o);n.open(t,"r+",((o,i)=>{if(o)return e(o);n.futimes(i,r,r,(r=>{if(r)return e(r);n.close(i,(r=>{if(r)return e(r);n.stat(t,((t,r)=>{if(t)return e(t);e(null,r.mtime>1435410243e3)}))}))}))}))}))}function timeRemoveMillis(e){if(typeof e==="number"){return Math.floor(e/1e3)*1e3}else if(e instanceof Date){return new Date(Math.floor(e.getTime()/1e3)*1e3)}else{throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")}}function utimesMillis(e,t,r,o){n.open(e,"r+",((e,i)=>{if(e)return o(e);n.futimes(i,t,r,(e=>{n.close(i,(t=>{if(o)o(e||t)}))}))}))}function utimesMillisSync(e,t,r){const o=n.openSync(e,"r+");n.futimesSync(o,t,r);return n.closeSync(o)}e.exports={hasMillisRes:hasMillisRes,hasMillisResSync:hasMillisResSync,timeRemoveMillis:timeRemoveMillis,utimesMillis:utimesMillis,utimesMillisSync:utimesMillisSync}},5324:e=>{e.exports=clone;var t=Object.getPrototypeOf||function(e){return e.__proto__};function clone(e){if(e===null||typeof e!=="object")return e;if(e instanceof Object)var r={__proto__:t(e)};else var r=Object.create(null);Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}));return r}},6820:(e,t,r)=>{var n=r(7147);var o=r(6528);var i=r(3256);var s=r(5324);var a=r(3837);var c;var l;if(typeof Symbol==="function"&&typeof Symbol.for==="function"){c=Symbol.for("graceful-fs.queue");l=Symbol.for("graceful-fs.previous")}else{c="___graceful-fs.queue";l="___graceful-fs.previous"}function noop(){}function publishQueue(e,t){Object.defineProperty(e,c,{get:function(){return t}})}var u=noop;if(a.debuglog)u=a.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))u=function(){var e=a.format.apply(a,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: ");console.error(e)};if(!n[c]){var f=global[c]||[];publishQueue(n,f);n.close=function(e){function close(t,r){return e.call(n,t,(function(e){if(!e){resetQueue()}if(typeof r==="function")r.apply(this,arguments)}))}Object.defineProperty(close,l,{value:e});return close}(n.close);n.closeSync=function(e){function closeSync(t){e.apply(n,arguments);resetQueue()}Object.defineProperty(closeSync,l,{value:e});return closeSync}(n.closeSync);if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")){process.on("exit",(function(){u(n[c]);r(9491).equal(n[c].length,0)}))}}if(!global[c]){publishQueue(global,n[c])}e.exports=patch(s(n));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!n.__patched){e.exports=patch(n);n.__patched=true}function patch(e){o(e);e.gracefulify=patch;e.createReadStream=createReadStream;e.createWriteStream=createWriteStream;var t=e.readFile;e.readFile=readFile;function readFile(e,r,n){if(typeof r==="function")n=r,r=null;return go$readFile(e,r,n);function go$readFile(e,r,n,o){return t(e,r,(function(t){if(t&&(t.code==="EMFILE"||t.code==="ENFILE"))enqueue([go$readFile,[e,r,n],t,o||Date.now(),Date.now()]);else{if(typeof n==="function")n.apply(this,arguments)}}))}}var r=e.writeFile;e.writeFile=writeFile;function writeFile(e,t,n,o){if(typeof n==="function")o=n,n=null;return go$writeFile(e,t,n,o);function go$writeFile(e,t,n,o,i){return r(e,t,n,(function(r){if(r&&(r.code==="EMFILE"||r.code==="ENFILE"))enqueue([go$writeFile,[e,t,n,o],r,i||Date.now(),Date.now()]);else{if(typeof o==="function")o.apply(this,arguments)}}))}}var n=e.appendFile;if(n)e.appendFile=appendFile;function appendFile(e,t,r,o){if(typeof r==="function")o=r,r=null;return go$appendFile(e,t,r,o);function go$appendFile(e,t,r,o,i){return n(e,t,r,(function(n){if(n&&(n.code==="EMFILE"||n.code==="ENFILE"))enqueue([go$appendFile,[e,t,r,o],n,i||Date.now(),Date.now()]);else{if(typeof o==="function")o.apply(this,arguments)}}))}}var s=e.copyFile;if(s)e.copyFile=copyFile;function copyFile(e,t,r,n){if(typeof r==="function"){n=r;r=0}return go$copyFile(e,t,r,n);function go$copyFile(e,t,r,n,o){return s(e,t,r,(function(i){if(i&&(i.code==="EMFILE"||i.code==="ENFILE"))enqueue([go$copyFile,[e,t,r,n],i,o||Date.now(),Date.now()]);else{if(typeof n==="function")n.apply(this,arguments)}}))}}var a=e.readdir;e.readdir=readdir;var c=/^v[0-5]\./;function readdir(e,t,r){if(typeof t==="function")r=t,t=null;var n=c.test(process.version)?function go$readdir(e,t,r,n){return a(e,fs$readdirCallback(e,t,r,n))}:function go$readdir(e,t,r,n){return a(e,t,fs$readdirCallback(e,t,r,n))};return n(e,t,r);function fs$readdirCallback(e,t,r,o){return function(i,s){if(i&&(i.code==="EMFILE"||i.code==="ENFILE"))enqueue([n,[e,t,r],i,o||Date.now(),Date.now()]);else{if(s&&s.sort)s.sort();if(typeof r==="function")r.call(this,i,s)}}}}if(process.version.substr(0,4)==="v0.8"){var l=i(e);ReadStream=l.ReadStream;WriteStream=l.WriteStream}var u=e.ReadStream;if(u){ReadStream.prototype=Object.create(u.prototype);ReadStream.prototype.open=ReadStream$open}var f=e.WriteStream;if(f){WriteStream.prototype=Object.create(f.prototype);WriteStream.prototype.open=WriteStream$open}Object.defineProperty(e,"ReadStream",{get:function(){return ReadStream},set:function(e){ReadStream=e},enumerable:true,configurable:true});Object.defineProperty(e,"WriteStream",{get:function(){return WriteStream},set:function(e){WriteStream=e},enumerable:true,configurable:true});var p=ReadStream;Object.defineProperty(e,"FileReadStream",{get:function(){return p},set:function(e){p=e},enumerable:true,configurable:true});var d=WriteStream;Object.defineProperty(e,"FileWriteStream",{get:function(){return d},set:function(e){d=e},enumerable:true,configurable:true});function ReadStream(e,t){if(this instanceof ReadStream)return u.apply(this,arguments),this;else return ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function ReadStream$open(){var e=this;open(e.path,e.flags,e.mode,(function(t,r){if(t){if(e.autoClose)e.destroy();e.emit("error",t)}else{e.fd=r;e.emit("open",r);e.read()}}))}function WriteStream(e,t){if(this instanceof WriteStream)return f.apply(this,arguments),this;else return WriteStream.apply(Object.create(WriteStream.prototype),arguments)}function WriteStream$open(){var e=this;open(e.path,e.flags,e.mode,(function(t,r){if(t){e.destroy();e.emit("error",t)}else{e.fd=r;e.emit("open",r)}}))}function createReadStream(t,r){return new e.ReadStream(t,r)}function createWriteStream(t,r){return new e.WriteStream(t,r)}var h=e.open;e.open=open;function open(e,t,r,n){if(typeof r==="function")n=r,r=null;return go$open(e,t,r,n);function go$open(e,t,r,n,o){return h(e,t,r,(function(i,s){if(i&&(i.code==="EMFILE"||i.code==="ENFILE"))enqueue([go$open,[e,t,r,n],i,o||Date.now(),Date.now()]);else{if(typeof n==="function")n.apply(this,arguments)}}))}}return e}function enqueue(e){u("ENQUEUE",e[0].name,e[1]);n[c].push(e);retry()}var p;function resetQueue(){var e=Date.now();for(var t=0;t<n[c].length;++t){if(n[c][t].length>2){n[c][t][3]=e;n[c][t][4]=e}}retry()}function retry(){clearTimeout(p);p=undefined;if(n[c].length===0)return;var e=n[c].shift();var t=e[0];var r=e[1];var o=e[2];var i=e[3];var s=e[4];if(i===undefined){u("RETRY",t.name,r);t.apply(null,r)}else if(Date.now()-i>=6e4){u("TIMEOUT",t.name,r);var a=r.pop();if(typeof a==="function")a.call(null,o)}else{var l=Date.now()-s;var f=Math.max(s-i,1);var d=Math.min(f*1.2,100);if(l>=d){u("RETRY",t.name,r);t.apply(null,r.concat([i]))}else{n[c].push(e)}}if(p===undefined){p=setTimeout(retry,0)}}},3256:(e,t,r)=>{var n=r(2781).Stream;e.exports=legacy;function legacy(e){return{ReadStream:ReadStream,WriteStream:WriteStream};function ReadStream(t,r){if(!(this instanceof ReadStream))return new ReadStream(t,r);n.call(this);var o=this;this.path=t;this.fd=null;this.readable=true;this.paused=false;this.flags="r";this.mode=438;this.bufferSize=64*1024;r=r||{};var i=Object.keys(r);for(var s=0,a=i.length;s<a;s++){var c=i[s];this[c]=r[c]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.end===undefined){this.end=Infinity}else if("number"!==typeof this.end){throw TypeError("end must be a Number")}if(this.start>this.end){throw new Error("start must be <= end")}this.pos=this.start}if(this.fd!==null){process.nextTick((function(){o._read()}));return}e.open(this.path,this.flags,this.mode,(function(e,t){if(e){o.emit("error",e);o.readable=false;return}o.fd=t;o.emit("open",t);o._read()}))}function WriteStream(t,r){if(!(this instanceof WriteStream))return new WriteStream(t,r);n.call(this);this.path=t;this.fd=null;this.writable=true;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;r=r||{};var o=Object.keys(r);for(var i=0,s=o.length;i<s;i++){var a=o[i];this[a]=r[a]}if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.start<0){throw new Error("start must be >= zero")}this.pos=this.start}this.busy=false;this._queue=[];if(this.fd===null){this._open=e.open;this._queue.push([this._open,this.path,this.flags,this.mode,undefined]);this.flush()}}}},6528:(e,t,r)=>{var n=r(2057);var o=process.cwd;var i=null;var s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!i)i=o.call(process);return i};try{process.cwd()}catch(e){}if(typeof process.chdir==="function"){var a=process.chdir;process.chdir=function(e){i=null;a.call(process,e)};if(Object.setPrototypeOf)Object.setPrototypeOf(process.chdir,a)}e.exports=patch;function patch(e){if(n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)){patchLchmod(e)}if(!e.lutimes){patchLutimes(e)}e.chown=chownFix(e.chown);e.fchown=chownFix(e.fchown);e.lchown=chownFix(e.lchown);e.chmod=chmodFix(e.chmod);e.fchmod=chmodFix(e.fchmod);e.lchmod=chmodFix(e.lchmod);e.chownSync=chownFixSync(e.chownSync);e.fchownSync=chownFixSync(e.fchownSync);e.lchownSync=chownFixSync(e.lchownSync);e.chmodSync=chmodFixSync(e.chmodSync);e.fchmodSync=chmodFixSync(e.fchmodSync);e.lchmodSync=chmodFixSync(e.lchmodSync);e.stat=statFix(e.stat);e.fstat=statFix(e.fstat);e.lstat=statFix(e.lstat);e.statSync=statFixSync(e.statSync);e.fstatSync=statFixSync(e.fstatSync);e.lstatSync=statFixSync(e.lstatSync);if(e.chmod&&!e.lchmod){e.lchmod=function(e,t,r){if(r)process.nextTick(r)};e.lchmodSync=function(){}}if(e.chown&&!e.lchown){e.lchown=function(e,t,r,n){if(n)process.nextTick(n)};e.lchownSync=function(){}}if(s==="win32"){e.rename=typeof e.rename!=="function"?e.rename:function(t){function rename(r,n,o){var i=Date.now();var s=0;t(r,n,(function CB(a){if(a&&(a.code==="EACCES"||a.code==="EPERM"||a.code==="EBUSY")&&Date.now()-i<6e4){setTimeout((function(){e.stat(n,(function(e,i){if(e&&e.code==="ENOENT")t(r,n,CB);else o(a)}))}),s);if(s<100)s+=10;return}if(o)o(a)}))}if(Object.setPrototypeOf)Object.setPrototypeOf(rename,t);return rename}(e.rename)}e.read=typeof e.read!=="function"?e.read:function(t){function read(r,n,o,i,s,a){var c;if(a&&typeof a==="function"){var l=0;c=function(u,f,p){if(u&&u.code==="EAGAIN"&&l<10){l++;return t.call(e,r,n,o,i,s,c)}a.apply(this,arguments)}}return t.call(e,r,n,o,i,s,c)}if(Object.setPrototypeOf)Object.setPrototypeOf(read,t);return read}(e.read);e.readSync=typeof e.readSync!=="function"?e.readSync:function(t){return function(r,n,o,i,s){var a=0;while(true){try{return t.call(e,r,n,o,i,s)}catch(e){if(e.code==="EAGAIN"&&a<10){a++;continue}throw e}}}}(e.readSync);function patchLchmod(e){e.lchmod=function(t,r,o){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,(function(t,n){if(t){if(o)o(t);return}e.fchmod(n,r,(function(t){e.close(n,(function(e){if(o)o(t||e)}))}))}))};e.lchmodSync=function(t,r){var o=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r);var i=true;var s;try{s=e.fchmodSync(o,r);i=false}finally{if(i){try{e.closeSync(o)}catch(e){}}else{e.closeSync(o)}}return s}}function patchLutimes(e){if(n.hasOwnProperty("O_SYMLINK")&&e.futimes){e.lutimes=function(t,r,o,i){e.open(t,n.O_SYMLINK,(function(t,n){if(t){if(i)i(t);return}e.futimes(n,r,o,(function(t){e.close(n,(function(e){if(i)i(t||e)}))}))}))};e.lutimesSync=function(t,r,o){var i=e.openSync(t,n.O_SYMLINK);var s;var a=true;try{s=e.futimesSync(i,r,o);a=false}finally{if(a){try{e.closeSync(i)}catch(e){}}else{e.closeSync(i)}}return s}}else if(e.futimes){e.lutimes=function(e,t,r,n){if(n)process.nextTick(n)};e.lutimesSync=function(){}}}function chmodFix(t){if(!t)return t;return function(r,n,o){return t.call(e,r,n,(function(e){if(chownErOk(e))e=null;if(o)o.apply(this,arguments)}))}}function chmodFixSync(t){if(!t)return t;return function(r,n){try{return t.call(e,r,n)}catch(e){if(!chownErOk(e))throw e}}}function chownFix(t){if(!t)return t;return function(r,n,o,i){return t.call(e,r,n,o,(function(e){if(chownErOk(e))e=null;if(i)i.apply(this,arguments)}))}}function chownFixSync(t){if(!t)return t;return function(r,n,o){try{return t.call(e,r,n,o)}catch(e){if(!chownErOk(e))throw e}}}function statFix(t){if(!t)return t;return function(r,n,o){if(typeof n==="function"){o=n;n=null}function callback(e,t){if(t){if(t.uid<0)t.uid+=4294967296;if(t.gid<0)t.gid+=4294967296}if(o)o.apply(this,arguments)}return n?t.call(e,r,n,callback):t.call(e,r,callback)}}function statFixSync(t){if(!t)return t;return function(r,n){var o=n?t.call(e,r,n):t.call(e,r);if(o){if(o.uid<0)o.uid+=4294967296;if(o.gid<0)o.gid+=4294967296}return o}}function chownErOk(e){if(!e)return true;if(e.code==="ENOSYS")return true;var t=!process.getuid||process.getuid()!==0;if(t){if(e.code==="EINVAL"||e.code==="EPERM")return true}return false}}},191:e=>{e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--";const n=t.indexOf(r+e);const o=t.indexOf("--");return n!==-1&&(o===-1||n<o)}},5626:(e,t,r)=>{var n;try{n=r(6820)}catch(e){n=r(7147)}function readFile(e,t,r){if(r==null){r=t;t={}}if(typeof t==="string"){t={encoding:t}}t=t||{};var o=t.fs||n;var i=true;if("throws"in t){i=t.throws}o.readFile(e,t,(function(n,o){if(n)return r(n);o=stripBom(o);var s;try{s=JSON.parse(o,t?t.reviver:null)}catch(t){if(i){t.message=e+": "+t.message;return r(t)}else{return r(null,null)}}r(null,s)}))}function readFileSync(e,t){t=t||{};if(typeof t==="string"){t={encoding:t}}var r=t.fs||n;var o=true;if("throws"in t){o=t.throws}try{var i=r.readFileSync(e,t);i=stripBom(i);return JSON.parse(i,t.reviver)}catch(t){if(o){t.message=e+": "+t.message;throw t}else{return null}}}function stringify(e,t){var r;var n="\n";if(typeof t==="object"&&t!==null){if(t.spaces){r=t.spaces}if(t.EOL){n=t.EOL}}var o=JSON.stringify(e,t?t.replacer:null,r);return o.replace(/\n/g,n)+n}function writeFile(e,t,r,o){if(o==null){o=r;r={}}r=r||{};var i=r.fs||n;var s="";try{s=stringify(t,r)}catch(e){if(o)o(e,null);return}i.writeFile(e,s,r,o)}function writeFileSync(e,t,r){r=r||{};var o=r.fs||n;var i=stringify(t,r);return o.writeFileSync(e,i,r)}function stripBom(e){if(Buffer.isBuffer(e))e=e.toString("utf8");e=e.replace(/^\uFEFF/,"");return e}var o={readFile:readFile,readFileSync:readFileSync,writeFile:writeFile,writeFileSync:writeFileSync};e.exports=o},9e3:(e,t,r)=>{var n=r(323);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r){return null}var o=r.payload;if(typeof o==="string"){try{var i=JSON.parse(o);if(i!==null&&typeof i==="object"){o=i}}catch(e){}}if(t.complete===true){return{header:r.header,payload:o,signature:r.signature}}return o}},1396:(e,t,r)=>{e.exports={decode:r(9e3),verify:r(3036),sign:r(6308),JsonWebTokenError:r(7973),NotBeforeError:r(3195),TokenExpiredError:r(8617)}},7973:e=>{var JsonWebTokenError=function(e,t){Error.call(this,e);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}this.name="JsonWebTokenError";this.message=e;if(t)this.inner=t};JsonWebTokenError.prototype=Object.create(Error.prototype);JsonWebTokenError.prototype.constructor=JsonWebTokenError;e.exports=JsonWebTokenError},3195:(e,t,r)=>{var n=r(7973);var NotBeforeError=function(e,t){n.call(this,e);this.name="NotBeforeError";this.date=t};NotBeforeError.prototype=Object.create(n.prototype);NotBeforeError.prototype.constructor=NotBeforeError;e.exports=NotBeforeError},8617:(e,t,r)=>{var n=r(7973);var TokenExpiredError=function(e,t){n.call(this,e);this.name="TokenExpiredError";this.expiredAt=t};TokenExpiredError.prototype=Object.create(n.prototype);TokenExpiredError.prototype.constructor=TokenExpiredError;e.exports=TokenExpiredError},6704:(e,t,r)=>{const n=r(2311);e.exports=n.satisfies(process.version,">=15.7.0")},6913:(e,t,r)=>{var n=r(2311);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},4340:(e,t,r)=>{const n=r(2311);e.exports=n.satisfies(process.version,">=16.9.0")},3206:(e,t,r)=>{var n=r(5913);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if(typeof e==="string"){var o=n(e);if(typeof o==="undefined"){return}return Math.floor(r+o/1e3)}else if(typeof e==="number"){return r+e}else{return}}},7775:(e,t,r)=>{const n=r(6704);const o=r(4340);const i={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]};const s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;const r=t.asymmetricKeyType;if(!r)return;const a=i[r];if(!a){throw new Error(`Unknown key type "${r}".`)}if(!a.includes(e)){throw new Error(`"alg" parameter for "${r}" key type must be one of: ${a.join(", ")}.`)}if(n){switch(r){case"ec":const r=t.asymmetricKeyDetails.namedCurve;const n=s[e];if(r!==n){throw new Error(`"alg" parameter "${e}" requires curve "${n}".`)}break;case"rsa-pss":if(o){const r=parseInt(e.slice(-3),10);const{hashAlgorithm:n,mgf1HashAlgorithm:o,saltLength:i}=t.asymmetricKeyDetails;if(n!==`sha${r}`||o!==n){throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`)}if(i!==undefined&&i>r>>3){throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}break}}}},6308:(e,t,r)=>{const n=r(3206);const o=r(6913);const i=r(7775);const s=r(323);const a=r(5189);const c=r(5830);const l=r(9488);const u=r(7308);const f=r(1631);const p=r(2612);const d=r(1548);const{KeyObject:h,createSecretKey:m,createPrivateKey:y}=r(6113);const g=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];if(o){g.splice(3,0,"PS256","PS384","PS512")}const S={expiresIn:{isValid:function(e){return l(e)||p(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return l(e)||p(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return p(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,g),message:'"algorithm" must be a valid string enum value'},header:{isValid:f,message:'"header" must be an object'},encoding:{isValid:p,message:'"encoding" must be a string'},issuer:{isValid:p,message:'"issuer" must be a string'},subject:{isValid:p,message:'"subject" must be a string'},jwtid:{isValid:p,message:'"jwtid" must be a string'},noTimestamp:{isValid:c,message:'"noTimestamp" must be a boolean'},keyid:{isValid:p,message:'"keyid" must be a string'},mutatePayload:{isValid:c,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:c,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:c,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}};const v={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function validate(e,t,r,n){if(!f(r)){throw new Error('Expected "'+n+'" to be a plain object.')}Object.keys(r).forEach((function(o){const i=e[o];if(!i){if(!t){throw new Error('"'+o+'" is not allowed in "'+n+'"')}return}if(!i.isValid(r[o])){throw new Error(i.message)}}))}function validateOptions(e){return validate(S,false,e,"options")}function validatePayload(e){return validate(v,true,e,"payload")}const E={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"};const b=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,o){if(typeof r==="function"){o=r;r={}}else{r=r||{}}const a=typeof e==="object"&&!Buffer.isBuffer(e);const c=Object.assign({alg:r.algorithm||"HS256",typ:a?"JWT":undefined,kid:r.keyid},r.header);function failure(e){if(o){return o(e)}throw e}if(!t&&r.algorithm!=="none"){return failure(new Error("secretOrPrivateKey must have a value"))}if(t!=null&&!(t instanceof h)){try{t=y(t)}catch(e){try{t=m(typeof t==="string"?Buffer.from(t):t)}catch(e){return failure(new Error("secretOrPrivateKey is not valid key material"))}}}if(c.alg.startsWith("HS")&&t.type!=="secret"){return failure(new Error(`secretOrPrivateKey must be a symmetric key when using ${c.alg}`))}else if(/^(?:RS|PS|ES)/.test(c.alg)){if(t.type!=="private"){return failure(new Error(`secretOrPrivateKey must be an asymmetric key when using ${c.alg}`))}if(!r.allowInsecureKeySizes&&!c.alg.startsWith("ES")&&t.asymmetricKeyDetails!==undefined&&t.asymmetricKeyDetails.modulusLength<2048){return failure(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${c.alg}`))}}if(typeof e==="undefined"){return failure(new Error("payload is required"))}else if(a){try{validatePayload(e)}catch(e){return failure(e)}if(!r.mutatePayload){e=Object.assign({},e)}}else{const t=b.filter((function(e){return typeof r[e]!=="undefined"}));if(t.length>0){return failure(new Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}}if(typeof e.exp!=="undefined"&&typeof r.expiresIn!=="undefined"){return failure(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'))}if(typeof e.nbf!=="undefined"&&typeof r.notBefore!=="undefined"){return failure(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'))}try{validateOptions(r)}catch(e){return failure(e)}if(!r.allowInvalidAsymmetricKeyTypes){try{i(c.alg,t)}catch(e){return failure(e)}}const l=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp){delete e.iat}else if(a){e.iat=l}if(typeof r.notBefore!=="undefined"){try{e.nbf=n(r.notBefore,l)}catch(e){return failure(e)}if(typeof e.nbf==="undefined"){return failure(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}}if(typeof r.expiresIn!=="undefined"&&typeof e==="object"){try{e.exp=n(r.expiresIn,l)}catch(e){return failure(e)}if(typeof e.exp==="undefined"){return failure(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}}Object.keys(E).forEach((function(t){const n=E[t];if(typeof r[t]!=="undefined"){if(typeof e[n]!=="undefined"){return failure(new Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'))}e[n]=r[t]}}));const u=r.encoding||"utf8";if(typeof o==="function"){o=o&&d(o);s.createSign({header:c,privateKey:t,payload:e,encoding:u}).once("error",o).once("done",(function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(c.alg)&&e.length<256){return o(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${c.alg}`))}o(null,e)}))}else{let n=s.sign({header:c,payload:e,secret:t,encoding:u});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(c.alg)&&n.length<256){throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${c.alg}`)}return n}}},3036:(e,t,r)=>{const n=r(7973);const o=r(3195);const i=r(8617);const s=r(9e3);const a=r(3206);const c=r(7775);const l=r(6913);const u=r(323);const{KeyObject:f,createSecretKey:p,createPublicKey:d}=r(6113);const h=["RS256","RS384","RS512"];const m=["ES256","ES384","ES512"];const y=["RS256","RS384","RS512"];const g=["HS256","HS384","HS512"];if(l){h.splice(h.length,0,"PS256","PS384","PS512");y.splice(y.length,0,"PS256","PS384","PS512")}e.exports=function(e,t,r,l){if(typeof r==="function"&&!l){l=r;r={}}if(!r){r={}}r=Object.assign({},r);let S;if(l){S=l}else{S=function(e,t){if(e)throw e;return t}}if(r.clockTimestamp&&typeof r.clockTimestamp!=="number"){return S(new n("clockTimestamp must be a number"))}if(r.nonce!==undefined&&(typeof r.nonce!=="string"||r.nonce.trim()==="")){return S(new n("nonce must be a non-empty string"))}if(r.allowInvalidAsymmetricKeyTypes!==undefined&&typeof r.allowInvalidAsymmetricKeyTypes!=="boolean"){return S(new n("allowInvalidAsymmetricKeyTypes must be a boolean"))}const v=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e){return S(new n("jwt must be provided"))}if(typeof e!=="string"){return S(new n("jwt must be a string"))}const E=e.split(".");if(E.length!==3){return S(new n("jwt malformed"))}let b;try{b=s(e,{complete:true})}catch(e){return S(e)}if(!b){return S(new n("invalid token"))}const w=b.header;let O;if(typeof t==="function"){if(!l){return S(new n("verify must be called asynchronous if secret or public key is provided as a callback"))}O=t}else{O=function(e,r){return r(null,t)}}return O(w,(function(t,s){if(t){return S(new n("error in secret or public key callback: "+t.message))}const l=E[2].trim()!=="";if(!l&&s){return S(new n("jwt signature is required"))}if(l&&!s){return S(new n("secret or public key must be provided"))}if(!l&&!r.algorithms){return S(new n('please specify "none" in "algorithms" to verify unsigned tokens'))}if(s!=null&&!(s instanceof f)){try{s=d(s)}catch(e){try{s=p(typeof s==="string"?Buffer.from(s):s)}catch(e){return S(new n("secretOrPublicKey is not valid key material"))}}}if(!r.algorithms){if(s.type==="secret"){r.algorithms=g}else if(["rsa","rsa-pss"].includes(s.asymmetricKeyType)){r.algorithms=y}else if(s.asymmetricKeyType==="ec"){r.algorithms=m}else{r.algorithms=h}}if(r.algorithms.indexOf(b.header.alg)===-1){return S(new n("invalid algorithm"))}if(w.alg.startsWith("HS")&&s.type!=="secret"){return S(new n(`secretOrPublicKey must be a symmetric key when using ${w.alg}`))}else if(/^(?:RS|PS|ES)/.test(w.alg)&&s.type!=="public"){return S(new n(`secretOrPublicKey must be an asymmetric key when using ${w.alg}`))}if(!r.allowInvalidAsymmetricKeyTypes){try{c(w.alg,s)}catch(e){return S(e)}}let O;try{O=u.verify(e,b.header.alg,s)}catch(e){return S(e)}if(!O){return S(new n("invalid signature"))}const x=b.payload;if(typeof x.nbf!=="undefined"&&!r.ignoreNotBefore){if(typeof x.nbf!=="number"){return S(new n("invalid nbf value"))}if(x.nbf>v+(r.clockTolerance||0)){return S(new o("jwt not active",new Date(x.nbf*1e3)))}}if(typeof x.exp!=="undefined"&&!r.ignoreExpiration){if(typeof x.exp!=="number"){return S(new n("invalid exp value"))}if(v>=x.exp+(r.clockTolerance||0)){return S(new i("jwt expired",new Date(x.exp*1e3)))}}if(r.audience){const e=Array.isArray(r.audience)?r.audience:[r.audience];const t=Array.isArray(x.aud)?x.aud:[x.aud];const o=t.some((function(t){return e.some((function(e){return e instanceof RegExp?e.test(t):e===t}))}));if(!o){return S(new n("jwt audience invalid. expected: "+e.join(" or ")))}}if(r.issuer){const e=typeof r.issuer==="string"&&x.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(x.iss)===-1;if(e){return S(new n("jwt issuer invalid. expected: "+r.issuer))}}if(r.subject){if(x.sub!==r.subject){return S(new n("jwt subject invalid. expected: "+r.subject))}}if(r.jwtid){if(x.jti!==r.jwtid){return S(new n("jwt jwtid invalid. expected: "+r.jwtid))}}if(r.nonce){if(x.nonce!==r.nonce){return S(new n("jwt nonce invalid. expected: "+r.nonce))}}if(r.maxAge){if(typeof x.iat!=="number"){return S(new n("iat required when maxAge is specified"))}const e=a(r.maxAge,x.iat);if(typeof e==="undefined"){return S(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(v>=e+(r.clockTolerance||0)){return S(new i("maxAge exceeded",new Date(e*1e3)))}}if(r.complete===true){const e=b.signature;return S(null,{header:w,payload:x,signature:e})}return S(null,x)}))}},9335:(e,t,r)=>{var n=r(3012);var o=r(6053).Buffer;var i=r(6113);var s=r(3967);var a=r(3837);var c='"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".';var l="secret must be a string or buffer";var u="key must be a string or a buffer";var f="key must be a string, a buffer or an object";var p=typeof i.createPublicKey==="function";if(p){u+=" or a KeyObject";l+="or a KeyObject"}function checkIsPublicKey(e){if(o.isBuffer(e)){return}if(typeof e==="string"){return}if(!p){throw typeError(u)}if(typeof e!=="object"){throw typeError(u)}if(typeof e.type!=="string"){throw typeError(u)}if(typeof e.asymmetricKeyType!=="string"){throw typeError(u)}if(typeof e.export!=="function"){throw typeError(u)}}function checkIsPrivateKey(e){if(o.isBuffer(e)){return}if(typeof e==="string"){return}if(typeof e==="object"){return}throw typeError(f)}function checkIsSecretKey(e){if(o.isBuffer(e)){return}if(typeof e==="string"){return e}if(!p){throw typeError(l)}if(typeof e!=="object"){throw typeError(l)}if(e.type!=="secret"){throw typeError(l)}if(typeof e.export!=="function"){throw typeError(l)}}function fromBase64(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function toBase64(e){e=e.toString();var t=4-e.length%4;if(t!==4){for(var r=0;r<t;++r){e+="="}}return e.replace(/\-/g,"+").replace(/_/g,"/")}function typeError(e){var t=[].slice.call(arguments,1);var r=a.format.bind(a,e).apply(null,t);return new TypeError(r)}function bufferOrString(e){return o.isBuffer(e)||typeof e==="string"}function normalizeInput(e){if(!bufferOrString(e))e=JSON.stringify(e);return e}function createHmacSigner(e){return function sign(t,r){checkIsSecretKey(r);t=normalizeInput(t);var n=i.createHmac("sha"+e,r);var o=(n.update(t),n.digest("base64"));return fromBase64(o)}}function createHmacVerifier(e){return function verify(t,r,i){var s=createHmacSigner(e)(t,i);return n(o.from(r),o.from(s))}}function createKeySigner(e){return function sign(t,r){checkIsPrivateKey(r);t=normalizeInput(t);var n=i.createSign("RSA-SHA"+e);var o=(n.update(t),n.sign(r,"base64"));return fromBase64(o)}}function createKeyVerifier(e){return function verify(t,r,n){checkIsPublicKey(n);t=normalizeInput(t);r=toBase64(r);var o=i.createVerify("RSA-SHA"+e);o.update(t);return o.verify(n,r,"base64")}}function createPSSKeySigner(e){return function sign(t,r){checkIsPrivateKey(r);t=normalizeInput(t);var n=i.createSign("RSA-SHA"+e);var o=(n.update(t),n.sign({key:r,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return fromBase64(o)}}function createPSSKeyVerifier(e){return function verify(t,r,n){checkIsPublicKey(n);t=normalizeInput(t);r=toBase64(r);var o=i.createVerify("RSA-SHA"+e);o.update(t);return o.verify({key:n,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function createECDSASigner(e){var t=createKeySigner(e);return function sign(){var r=t.apply(null,arguments);r=s.derToJose(r,"ES"+e);return r}}function createECDSAVerifer(e){var t=createKeyVerifier(e);return function verify(r,n,o){n=s.joseToDer(n,"ES"+e).toString("base64");var i=t(r,n,o);return i}}function createNoneSigner(){return function sign(){return""}}function createNoneVerifier(){return function verify(e,t){return t===""}}e.exports=function jwa(e){var t={hs:createHmacSigner,rs:createKeySigner,ps:createPSSKeySigner,es:createECDSASigner,none:createNoneSigner};var r={hs:createHmacVerifier,rs:createKeyVerifier,ps:createPSSKeyVerifier,es:createECDSAVerifer,none:createNoneVerifier};var n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw typeError(c,e);var o=(n[1]||n[3]).toLowerCase();var i=n[2];return{sign:t[o](i),verify:r[o](i)}}},323:(e,t,r)=>{var n=r(6214);var o=r(6520);var i=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];t.ALGORITHMS=i;t.sign=n.sign;t.verify=o.verify;t.decode=o.decode;t.isValid=o.isValid;t.createSign=function createSign(e){return new n(e)};t.createVerify=function createVerify(e){return new o(e)}},3861:(e,t,r)=>{var n=r(6053).Buffer;var o=r(2781);var i=r(3837);function DataStream(e){this.buffer=null;this.writable=true;this.readable=true;if(!e){this.buffer=n.alloc(0);return this}if(typeof e.pipe==="function"){this.buffer=n.alloc(0);e.pipe(this);return this}if(e.length||typeof e==="object"){this.buffer=e;this.writable=false;process.nextTick(function(){this.emit("end",e);this.readable=false;this.emit("close")}.bind(this));return this}throw new TypeError("Unexpected data type ("+typeof e+")")}i.inherits(DataStream,o);DataStream.prototype.write=function write(e){this.buffer=n.concat([this.buffer,n.from(e)]);this.emit("data",e)};DataStream.prototype.end=function end(e){if(e)this.write(e);this.emit("end",e);this.emit("close");this.writable=false;this.readable=false};e.exports=DataStream},6214:(e,t,r)=>{var n=r(6053).Buffer;var o=r(3861);var i=r(9335);var s=r(2781);var a=r(3452);var c=r(3837);function base64url(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jwsSecuredInput(e,t,r){r=r||"utf8";var n=base64url(a(e),"binary");var o=base64url(a(t),r);return c.format("%s.%s",n,o)}function jwsSign(e){var t=e.header;var r=e.payload;var n=e.secret||e.privateKey;var o=e.encoding;var s=i(t.alg);var a=jwsSecuredInput(t,r,o);var l=s.sign(a,n);return c.format("%s.%s",a,l)}function SignStream(e){var t=e.secret||e.privateKey||e.key;var r=new o(t);this.readable=true;this.header=e.header;this.encoding=e.encoding;this.secret=this.privateKey=this.key=r;this.payload=new o(e.payload);this.secret.once("close",function(){if(!this.payload.writable&&this.readable)this.sign()}.bind(this));this.payload.once("close",function(){if(!this.secret.writable&&this.readable)this.sign()}.bind(this))}c.inherits(SignStream,s);SignStream.prototype.sign=function sign(){try{var e=jwsSign({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});this.emit("done",e);this.emit("data",e);this.emit("end");this.readable=false;return e}catch(e){this.readable=false;this.emit("error",e);this.emit("close")}};SignStream.sign=jwsSign;e.exports=SignStream},3452:(e,t,r)=>{var n=r(4300).Buffer;e.exports=function toString(e){if(typeof e==="string")return e;if(typeof e==="number"||n.isBuffer(e))return e.toString();return JSON.stringify(e)}},6520:(e,t,r)=>{var n=r(6053).Buffer;var o=r(3861);var i=r(9335);var s=r(2781);var a=r(3452);var c=r(3837);var l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}function safeJsonParse(e){if(isObject(e))return e;try{return JSON.parse(e)}catch(e){return undefined}}function headerFromJWS(e){var t=e.split(".",1)[0];return safeJsonParse(n.from(t,"base64").toString("binary"))}function securedInputFromJWS(e){return e.split(".",2).join(".")}function signatureFromJWS(e){return e.split(".")[2]}function payloadFromJWS(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}function isValidJws(e){return l.test(e)&&!!headerFromJWS(e)}function jwsVerify(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");n.code="MISSING_ALGORITHM";throw n}e=a(e);var o=signatureFromJWS(e);var s=securedInputFromJWS(e);var c=i(t);return c.verify(s,o,r)}function jwsDecode(e,t){t=t||{};e=a(e);if(!isValidJws(e))return null;var r=headerFromJWS(e);if(!r)return null;var n=payloadFromJWS(e);if(r.typ==="JWT"||t.json)n=JSON.parse(n,t.encoding);return{header:r,payload:n,signature:signatureFromJWS(e)}}function VerifyStream(e){e=e||{};var t=e.secret||e.publicKey||e.key;var r=new o(t);this.readable=true;this.algorithm=e.algorithm;this.encoding=e.encoding;this.secret=this.publicKey=this.key=r;this.signature=new o(e.signature);this.secret.once("close",function(){if(!this.signature.writable&&this.readable)this.verify()}.bind(this));this.signature.once("close",function(){if(!this.secret.writable&&this.readable)this.verify()}.bind(this))}c.inherits(VerifyStream,s);VerifyStream.prototype.verify=function verify(){try{var e=jwsVerify(this.signature.buffer,this.algorithm,this.key.buffer);var t=jwsDecode(this.signature.buffer,this.encoding);this.emit("done",e,t);this.emit("data",e);this.emit("end");this.readable=false;return e}catch(e){this.readable=false;this.emit("error",e);this.emit("close")}};VerifyStream.decode=jwsDecode;VerifyStream.isValid=isValidJws;VerifyStream.verify=jwsVerify;e.exports=VerifyStream},5189:e=>{var t=1/0,r=9007199254740991,n=17976931348623157e292,o=0/0;var i="[object Arguments]",s="[object Function]",a="[object GeneratorFunction]",c="[object String]",l="[object Symbol]";var u=/^\s+|\s+$/g;var f=/^[-+]0x[0-9a-f]+$/i;var p=/^0b[01]+$/i;var d=/^0o[0-7]+$/i;var h=/^(?:0|[1-9]\d*)$/;var m=parseInt;function arrayMap(e,t){var r=-1,n=e?e.length:0,o=Array(n);while(++r<n){o[r]=t(e[r],r,e)}return o}function baseFindIndex(e,t,r,n){var o=e.length,i=r+(n?1:-1);while(n?i--:++i<o){if(t(e[i],i,e)){return i}}return-1}function baseIndexOf(e,t,r){if(t!==t){return baseFindIndex(e,baseIsNaN,r)}var n=r-1,o=e.length;while(++n<o){if(e[n]===t){return n}}return-1}function baseIsNaN(e){return e!==e}function baseTimes(e,t){var r=-1,n=Array(e);while(++r<e){n[r]=t(r)}return n}function baseValues(e,t){return arrayMap(t,(function(t){return e[t]}))}function overArg(e,t){return function(r){return e(t(r))}}var y=Object.prototype;var g=y.hasOwnProperty;var S=y.toString;var v=y.propertyIsEnumerable;var E=overArg(Object.keys,Object),b=Math.max;function arrayLikeKeys(e,t){var r=w(e)||isArguments(e)?baseTimes(e.length,String):[];var n=r.length,o=!!n;for(var i in e){if((t||g.call(e,i))&&!(o&&(i=="length"||isIndex(i,n)))){r.push(i)}}return r}function baseKeys(e){if(!isPrototype(e)){return E(e)}var t=[];for(var r in Object(e)){if(g.call(e,r)&&r!="constructor"){t.push(r)}}return t}function isIndex(e,t){t=t==null?r:t;return!!t&&(typeof e=="number"||h.test(e))&&(e>-1&&e%1==0&&e<t)}function isPrototype(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||y;return e===r}function includes(e,t,r,n){e=isArrayLike(e)?e:values(e);r=r&&!n?toInteger(r):0;var o=e.length;if(r<0){r=b(o+r,0)}return isString(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&baseIndexOf(e,t,r)>-1}function isArguments(e){return isArrayLikeObject(e)&&g.call(e,"callee")&&(!v.call(e,"callee")||S.call(e)==i)}var w=Array.isArray;function isArrayLike(e){return e!=null&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?S.call(e):"";return t==s||t==a}function isLength(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}function isObject(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isString(e){return typeof e=="string"||!w(e)&&isObjectLike(e)&&S.call(e)==c}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&S.call(e)==l}function toFinite(e){if(!e){return e===0?e:0}e=toNumber(e);if(e===t||e===-t){var r=e<0?-1:1;return r*n}return e===e?e:0}function toInteger(e){var t=toFinite(e),r=t%1;return t===t?r?t-r:t:0}function toNumber(e){if(typeof e=="number"){return e}if(isSymbol(e)){return o}if(isObject(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(u,"");var r=p.test(e);return r||d.test(e)?m(e.slice(2),r?2:8):f.test(e)?o:+e}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function values(e){return e?baseValues(e,keys(e)):[]}e.exports=includes},5830:e=>{var t="[object Boolean]";var r=Object.prototype;var n=r.toString;function isBoolean(e){return e===true||e===false||isObjectLike(e)&&n.call(e)==t}function isObjectLike(e){return!!e&&typeof e=="object"}e.exports=isBoolean},9488:e=>{var t=1/0,r=17976931348623157e292,n=0/0;var o="[object Symbol]";var i=/^\s+|\s+$/g;var s=/^[-+]0x[0-9a-f]+$/i;var a=/^0b[01]+$/i;var c=/^0o[0-7]+$/i;var l=parseInt;var u=Object.prototype;var f=u.toString;function isInteger(e){return typeof e=="number"&&e==toInteger(e)}function isObject(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&f.call(e)==o}function toFinite(e){if(!e){return e===0?e:0}e=toNumber(e);if(e===t||e===-t){var n=e<0?-1:1;return n*r}return e===e?e:0}function toInteger(e){var t=toFinite(e),r=t%1;return t===t?r?t-r:t:0}function toNumber(e){if(typeof e=="number"){return e}if(isSymbol(e)){return n}if(isObject(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(i,"");var r=a.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):s.test(e)?n:+e}e.exports=isInteger},7308:e=>{var t="[object Number]";var r=Object.prototype;var n=r.toString;function isObjectLike(e){return!!e&&typeof e=="object"}function isNumber(e){return typeof e=="number"||isObjectLike(e)&&n.call(e)==t}e.exports=isNumber},1631:e=>{var t="[object Object]";function isHostObject(e){var t=false;if(e!=null&&typeof e.toString!="function"){try{t=!!(e+"")}catch(e){}}return t}function overArg(e,t){return function(r){return e(t(r))}}var r=Function.prototype,n=Object.prototype;var o=r.toString;var i=n.hasOwnProperty;var s=o.call(Object);var a=n.toString;var c=overArg(Object.getPrototypeOf,Object);function isObjectLike(e){return!!e&&typeof e=="object"}function isPlainObject(e){if(!isObjectLike(e)||a.call(e)!=t||isHostObject(e)){return false}var r=c(e);if(r===null){return true}var n=i.call(r,"constructor")&&r.constructor;return typeof n=="function"&&n instanceof n&&o.call(n)==s}e.exports=isPlainObject},2612:e=>{var t="[object String]";var r=Object.prototype;var n=r.toString;var o=Array.isArray;function isObjectLike(e){return!!e&&typeof e=="object"}function isString(e){return typeof e=="string"||!o(e)&&isObjectLike(e)&&n.call(e)==t}e.exports=isString},1548:e=>{var t="Expected a function";var r=1/0,n=17976931348623157e292,o=0/0;var i="[object Symbol]";var s=/^\s+|\s+$/g;var a=/^[-+]0x[0-9a-f]+$/i;var c=/^0b[01]+$/i;var l=/^0o[0-7]+$/i;var u=parseInt;var f=Object.prototype;var p=f.toString;function before(e,r){var n;if(typeof r!="function"){throw new TypeError(t)}e=toInteger(e);return function(){if(--e>0){n=r.apply(this,arguments)}if(e<=1){r=undefined}return n}}function once(e){return before(2,e)}function isObject(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&p.call(e)==i}function toFinite(e){if(!e){return e===0?e:0}e=toNumber(e);if(e===r||e===-r){var t=e<0?-1:1;return t*n}return e===e?e:0}function toInteger(e){var t=toFinite(e),r=t%1;return t===t?r?t-r:t:0}function toNumber(e){if(typeof e=="number"){return e}if(isSymbol(e)){return o}if(isObject(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(s,"");var r=c.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):a.test(e)?o:+e}e.exports=once},5557:(e,t,r)=>{const n=r(1403);const o=r(9995);class SerDe{constructor(){const e={__LOG4JS_undefined__:undefined,__LOG4JS_NaN__:Number("abc"),__LOG4JS_Infinity__:1/0,"__LOG4JS_-Infinity__":-1/0};this.deMap=e;this.serMap={};Object.keys(this.deMap).forEach((e=>{const t=this.deMap[e];this.serMap[t]=e}))}canSerialise(e){if(typeof e==="string")return false;return e in this.serMap}serialise(e){if(this.canSerialise(e))return this.serMap[e];return e}canDeserialise(e){return e in this.deMap}deserialise(e){if(this.canDeserialise(e))return this.deMap[e];return e}}const i=new SerDe;class LoggingEvent{constructor(e,t,r,n,o,i){this.startTime=new Date;this.categoryName=e;this.data=r;this.level=t;this.context=Object.assign({},n);this.pid=process.pid;this.error=i;if(typeof o!=="undefined"){if(!o||typeof o!=="object"||Array.isArray(o))throw new TypeError("Invalid location type passed to LoggingEvent constructor");this.constructor._getLocationKeys().forEach((e=>{if(typeof o[e]!=="undefined")this[e]=o[e]}))}}static _getLocationKeys(){return["fileName","lineNumber","columnNumber","callStack","className","functionName","functionAlias","callerName"]}serialise(){return n.stringify(this,((e,t)=>{if(t instanceof Error){t=Object.assign({message:t.message,stack:t.stack},t)}return i.serialise(t)}))}static deserialise(e){let t;try{const r=n.parse(e,((e,t)=>{if(t&&t.message&&t.stack){const e=new Error(t);Object.keys(t).forEach((r=>{e[r]=t[r]}));t=e}return i.deserialise(t)}));this._getLocationKeys().forEach((e=>{if(typeof r[e]!=="undefined"){if(!r.location)r.location={};r.location[e]=r[e]}}));t=new LoggingEvent(r.categoryName,o.getLevel(r.level.levelStr),r.data,r.context,r.location,r.error);t.startTime=new Date(r.startTime);t.pid=r.pid;if(r.cluster){t.cluster=r.cluster}}catch(r){t=new LoggingEvent("log4js",o.ERROR,["Unable to parse log:",e,"because: ",r])}return t}}e.exports=LoggingEvent},8491:e=>{function maxFileSizeUnitTransform(e){if(typeof e==="number"&&Number.isInteger(e)){return e}const t={K:1024,M:1024*1024,G:1024*1024*1024};const r=Object.keys(t);const n=e.slice(-1).toLocaleUpperCase();const o=e.slice(0,-1).trim();if(r.indexOf(n)<0||!Number.isInteger(Number(o))){throw Error(`maxLogSize: "${e}" is invalid`)}else{return o*t[n]}}function adapter(e,t){const r=Object.assign({},t);Object.keys(e).forEach((n=>{if(r[n]){r[n]=e[n](t[n])}}));return r}function fileAppenderAdapter(e){const t={maxLogSize:maxFileSizeUnitTransform};return adapter(t,e)}const t={dateFile:fileAppenderAdapter,file:fileAppenderAdapter,fileSync:fileAppenderAdapter};e.exports.modifyConfig=e=>t[e.type]?t[e.type](e):e},826:(e,t,r)=>{const n=r(9115)("log4js:categoryFilter");function categoryFilter(e,t){if(typeof e==="string")e=[e];return r=>{n(`Checking ${r.categoryName} against ${e}`);if(e.indexOf(r.categoryName)===-1){n("Not excluded, sending to appender");t(r)}}}function configure(e,t,r){const n=r(e.appender);return categoryFilter(e.exclude,n)}e.exports.configure=configure},8933:e=>{const t=console.log.bind(console);function consoleAppender(e,r){return n=>{t(e(n,r))}}function configure(e,t){let r=t.colouredLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}return consoleAppender(r,e.timezoneOffset)}e.exports.configure=configure},4262:(e,t,r)=>{const n=r(5347);const o=r(2037);const i=o.EOL;function openTheStream(e,t,r){const o=new n.DateRollingFileStream(e,t,r);o.on("error",(t=>{console.error("log4js.dateFileAppender - Writing to file %s, error happened ",e,t)}));o.on("drain",(()=>{process.emit("log4js:pause",false)}));return o}function appender(e,t,r,n,o){n.maxSize=n.maxLogSize;const s=openTheStream(e,t,n);const app=function(e){if(!s.writable){return}if(!s.write(r(e,o)+i,"utf8")){process.emit("log4js:pause",true)}};app.shutdown=function(e){s.end("","utf-8",e)};return app}function configure(e,t){let r=t.basicLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}if(!e.alwaysIncludePattern){e.alwaysIncludePattern=false}e.mode=e.mode||384;return appender(e.filename,e.pattern,r,e,e.timezoneOffset)}e.exports.configure=configure},5741:(e,t,r)=>{const n=r(9115)("log4js:file");const o=r(1017);const i=r(5347);const s=r(2037);const a=s.EOL;let c=false;const l=new Set;function mainSighupHandler(){l.forEach((e=>{e.sighupHandler()}))}function fileAppender(e,t,r,u,f,p){if(typeof e!=="string"||e.length===0){throw new Error(`Invalid filename: ${e}`)}else if(e.endsWith(o.sep)){throw new Error(`Filename is a directory: ${e}`)}else if(e.indexOf(`~${o.sep}`)===0){e=e.replace("~",s.homedir())}e=o.normalize(e);u=!u&&u!==0?5:u;n("Creating file appender (",e,", ",r,", ",u,", ",f,", ",p,")");function openTheStream(e,t,r,n){const o=new i.RollingFileStream(e,t,r,n);o.on("error",(t=>{console.error("log4js.fileAppender - Writing to file %s, error happened ",e,t)}));o.on("drain",(()=>{process.emit("log4js:pause",false)}));return o}let d=openTheStream(e,r,u,f);const app=function(e){if(!d.writable){return}if(f.removeColor===true){const t=/\x1b[[0-9;]*m/g;e.data=e.data.map((e=>{if(typeof e==="string")return e.replace(t,"");return e}))}if(!d.write(t(e,p)+a,"utf8")){process.emit("log4js:pause",true)}};app.reopen=function(){d.end((()=>{d=openTheStream(e,r,u,f)}))};app.sighupHandler=function(){n("SIGHUP handler called.");app.reopen()};app.shutdown=function(e){l.delete(app);if(l.size===0&&c){process.removeListener("SIGHUP",mainSighupHandler);c=false}d.end("","utf-8",e)};l.add(app);if(!c){process.on("SIGHUP",mainSighupHandler);c=true}return app}function configure(e,t){let r=t.basicLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}e.mode=e.mode||384;return fileAppender(e.filename,r,e.maxLogSize,e.backups,e,e.timezoneOffset)}e.exports.configure=configure},1618:(e,t,r)=>{const n=r(9115)("log4js:fileSync");const o=r(1017);const i=r(7147);const s=r(2037);const a=s.EOL;function touchFile(e,t){const mkdir=e=>{try{return i.mkdirSync(e,{recursive:true})}catch(t){if(t.code==="ENOENT"){mkdir(o.dirname(e));return mkdir(e)}if(t.code!=="EEXIST"&&t.code!=="EROFS"){throw t}else{try{if(i.statSync(e).isDirectory()){return e}throw t}catch(e){throw t}}}};mkdir(o.dirname(e));i.appendFileSync(e,"",{mode:t.mode,flag:t.flags})}class RollingFileSync{constructor(e,t,r,o){n("In RollingFileStream");if(t<0){throw new Error(`maxLogSize (${t}) should be > 0`)}this.filename=e;this.size=t;this.backups=r;this.options=o;this.currentSize=0;function currentFileSize(e){let t=0;try{t=i.statSync(e).size}catch(t){touchFile(e,o)}return t}this.currentSize=currentFileSize(this.filename)}shouldRoll(){n("should roll with current size %d, and max size %d",this.currentSize,this.size);return this.currentSize>=this.size}roll(e){const t=this;const r=new RegExp(`^${o.basename(e)}`);function justTheseFiles(e){return r.test(e)}function index(t){return parseInt(t.slice(`${o.basename(e)}.`.length),10)||0}function byIndex(e,t){return index(e)-index(t)}function increaseFileIndex(r){const s=index(r);n(`Index of ${r} is ${s}`);if(t.backups===0){i.truncateSync(e,0)}else if(s<t.backups){try{i.unlinkSync(`${e}.${s+1}`)}catch(e){}n(`Renaming ${r} -> ${e}.${s+1}`);i.renameSync(o.join(o.dirname(e),r),`${e}.${s+1}`)}}function renameTheFiles(){n("Renaming the old files");const t=i.readdirSync(o.dirname(e));t.filter(justTheseFiles).sort(byIndex).reverse().forEach(increaseFileIndex)}n("Rolling, rolling, rolling");renameTheFiles()}write(e,t){const r=this;function writeTheChunk(){n("writing the chunk to the file");r.currentSize+=e.length;i.appendFileSync(r.filename,e)}n("in write");if(this.shouldRoll()){this.currentSize=0;this.roll(this.filename)}writeTheChunk()}}function fileAppender(e,t,r,c,l,u){if(typeof e!=="string"||e.length===0){throw new Error(`Invalid filename: ${e}`)}else if(e.endsWith(o.sep)){throw new Error(`Filename is a directory: ${e}`)}else if(e.indexOf(`~${o.sep}`)===0){e=e.replace("~",s.homedir())}e=o.normalize(e);c=!c&&c!==0?5:c;n("Creating fileSync appender (",e,", ",r,", ",c,", ",l,", ",u,")");function openTheStream(e,t,r){let n;if(t){n=new RollingFileSync(e,t,r,l)}else{n=(e=>{touchFile(e,l);return{write(t){i.appendFileSync(e,t)}}})(e)}return n}const f=openTheStream(e,r,c);return e=>{f.write(t(e,u)+a)}}function configure(e,t){let r=t.basicLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}const n={flags:e.flags||"a",encoding:e.encoding||"utf8",mode:e.mode||384};return fileAppender(e.filename,r,e.maxLogSize,e.backups,n,e.timezoneOffset)}e.exports.configure=configure},3003:(e,t,r)=>{const n=r(1017);const o=r(9115)("log4js:appenders");const i=r(2622);const s=r(7389);const a=r(9995);const c=r(5945);const l=r(8491);const u=new Map;u.set("console",r(8933));u.set("stdout",r(5745));u.set("stderr",r(5172));u.set("logLevelFilter",r(8830));u.set("categoryFilter",r(826));u.set("noLogFilter",r(6807));u.set("file",r(5741));u.set("dateFile",r(4262));u.set("fileSync",r(1618));u.set("tcp",r(9098));const f=new Map;const tryLoading=(e,t)=>{let r;try{const t=`${e}.cjs`;r=require.resolve(t);o("Loading module from ",t)}catch(t){r=e;o("Loading module from ",e)}try{return require(r)}catch(r){i.throwExceptionIf(t,r.code!=="MODULE_NOT_FOUND",`appender "${e}" could not be loaded (error was: ${r})`);return undefined}};const loadAppenderModule=(e,t)=>u.get(e)||tryLoading(`./${e}`,t)||tryLoading(e,t)||require.main&&require.main.filename&&tryLoading(n.join(n.dirname(require.main.filename),e),t)||tryLoading(n.join(process.cwd(),e),t);const p=new Set;const getAppender=(e,t)=>{if(f.has(e))return f.get(e);if(!t.appenders[e])return false;if(p.has(e))throw new Error(`Dependency loop detected for appender ${e}.`);p.add(e);o(`Creating appender ${e}`);const r=createAppender(e,t);p.delete(e);f.set(e,r);return r};const createAppender=(e,t)=>{const n=t.appenders[e];const u=n.type.configure?n.type:loadAppenderModule(n.type,t);i.throwExceptionIf(t,i.not(u),`appender "${e}" is not valid (type "${n.type}" could not be found)`);if(u.appender){process.emitWarning(`Appender ${n.type} exports an appender function.`,"DeprecationWarning","log4js-node-DEP0001");o("[log4js-node-DEP0001]",`DEPRECATION: Appender ${n.type} exports an appender function.`)}if(u.shutdown){process.emitWarning(`Appender ${n.type} exports a shutdown function.`,"DeprecationWarning","log4js-node-DEP0002");o("[log4js-node-DEP0002]",`DEPRECATION: Appender ${n.type} exports a shutdown function.`)}o(`${e}: clustering.isMaster ? ${s.isMaster()}`);o(`${e}: appenderModule is ${r(3837).inspect(u)}`);return s.onlyOnMaster((()=>{o(`calling appenderModule.configure for ${e} / ${n.type}`);return u.configure(l.modifyConfig(n),c,(e=>getAppender(e,t)),a)}),(()=>{}))};const setup=e=>{f.clear();p.clear();if(!e){return}const t=[];Object.values(e.categories).forEach((e=>{t.push(...e.appenders)}));Object.keys(e.appenders).forEach((r=>{if(t.includes(r)||e.appenders[r].type==="tcp-server"||e.appenders[r].type==="multiprocess"){getAppender(r,e)}}))};const init=()=>{setup()};init();i.addListener((e=>{i.throwExceptionIf(e,i.not(i.anObject(e.appenders)),'must have a property "appenders" of type object.');const t=Object.keys(e.appenders);i.throwExceptionIf(e,i.not(t.length),"must define at least one appender.");t.forEach((t=>{i.throwExceptionIf(e,i.not(e.appenders[t].type),`appender "${t}" is not valid (must be an object with property "type")`)}))}));i.addListener(setup);e.exports=f;e.exports.init=init},8830:e=>{function logLevelFilter(e,t,r,n){const o=n.getLevel(e);const i=n.getLevel(t,n.FATAL);return e=>{const t=e.level;if(o.isLessThanOrEqualTo(t)&&i.isGreaterThanOrEqualTo(t)){r(e)}}}function configure(e,t,r,n){const o=r(e.appender);return logLevelFilter(e.level,e.maxLevel,o,n)}e.exports.configure=configure},6807:(e,t,r)=>{const n=r(9115)("log4js:noLogFilter");function removeNullOrEmptyRegexp(e){const t=e.filter((e=>e!=null&&e!==""));return t}function noLogFilter(e,t){return r=>{n(`Checking data: ${r.data} against filters: ${e}`);if(typeof e==="string"){e=[e]}e=removeNullOrEmptyRegexp(e);const o=new RegExp(e.join("|"),"i");if(e.length===0||r.data.findIndex((e=>o.test(e)))<0){n("Not excluded, sending to appender");t(r)}}}function configure(e,t,r){const n=r(e.appender);return noLogFilter(e.exclude,n)}e.exports.configure=configure},4119:(e,t,r)=>{const n=r(9115)("log4js:recording");const o=[];function configure(){return function(e){n(`received logEvent, number of events now ${o.length+1}`);n("log event was ",e);o.push(e)}}function replay(){return o.slice()}function reset(){o.length=0}e.exports={configure:configure,replay:replay,playback:replay,reset:reset,erase:reset}},5172:e=>{function stderrAppender(e,t){return r=>{process.stderr.write(`${e(r,t)}\n`)}}function configure(e,t){let r=t.colouredLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}return stderrAppender(r,e.timezoneOffset)}e.exports.configure=configure},5745:(e,t)=>{function stdoutAppender(e,t){return r=>{process.stdout.write(`${e(r,t)}\n`)}}function configure(e,t){let r=t.colouredLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}return stdoutAppender(r,e.timezoneOffset)}t.configure=configure},9098:(e,t,r)=>{const n=r(9115)("log4js:tcp");const o=r(1808);function appender(e,t){let r=false;const i=[];let s;let a=3;let c="__LOG4JS__";function write(e){n("Writing log event to socket");r=s.write(`${t(e)}${c}`,"utf8")}function emptyBuffer(){let e;n("emptying buffer");while(e=i.shift()){write(e)}}function createSocket(){n(`appender creating socket to ${e.host||"localhost"}:${e.port||5e3}`);c=`${e.endMsg||"__LOG4JS__"}`;s=o.createConnection(e.port||5e3,e.host||"localhost");s.on("connect",(()=>{n("socket connected");emptyBuffer();r=true}));s.on("drain",(()=>{n("drain event received, emptying buffer");r=true;emptyBuffer()}));s.on("timeout",s.end.bind(s));s.on("error",(e=>{n("connection error",e);r=false;emptyBuffer()}));s.on("close",createSocket)}createSocket();function log(e){if(r){write(e)}else{n("buffering log event because it cannot write at the moment");i.push(e)}}log.shutdown=function(e){n("shutdown called");if(i.length&&a){n("buffer has items, waiting 100ms to empty");a-=1;setTimeout((()=>{log.shutdown(e)}),100)}else{s.removeAllListeners("close");s.end(e)}};return log}function configure(e,t){n(`configure with config = ${e}`);let layout=function(e){return e.serialise()};if(e.layout){layout=t.layout(e.layout.type,e.layout)}return appender(e,layout)}e.exports.configure=configure},4335:(e,t,r)=>{const n=r(9115)("log4js:categories");const o=r(2622);const i=r(9995);const s=r(3003);const a=new Map;function inheritFromParent(e,t,r){if(t.inherit===false)return;const n=r.lastIndexOf(".");if(n<0)return;const o=r.slice(0,n);let i=e.categories[o];if(!i){i={inherit:true,appenders:[]}}inheritFromParent(e,i,o);if(!e.categories[o]&&i.appenders&&i.appenders.length&&i.level){e.categories[o]=i}t.appenders=t.appenders||[];t.level=t.level||i.level;i.appenders.forEach((e=>{if(!t.appenders.includes(e)){t.appenders.push(e)}}));t.parent=i}function addCategoryInheritance(e){if(!e.categories)return;const t=Object.keys(e.categories);t.forEach((t=>{const r=e.categories[t];inheritFromParent(e,r,t)}))}o.addPreProcessingListener((e=>addCategoryInheritance(e)));o.addListener((e=>{o.throwExceptionIf(e,o.not(o.anObject(e.categories)),'must have a property "categories" of type object.');const t=Object.keys(e.categories);o.throwExceptionIf(e,o.not(t.length),"must define at least one category.");t.forEach((t=>{const r=e.categories[t];o.throwExceptionIf(e,[o.not(r.appenders),o.not(r.level)],`category "${t}" is not valid (must be an object with properties "appenders" and "level")`);o.throwExceptionIf(e,o.not(Array.isArray(r.appenders)),`category "${t}" is not valid (appenders must be an array of appender names)`);o.throwExceptionIf(e,o.not(r.appenders.length),`category "${t}" is not valid (appenders must contain at least one appender name)`);if(Object.prototype.hasOwnProperty.call(r,"enableCallStack")){o.throwExceptionIf(e,typeof r.enableCallStack!=="boolean",`category "${t}" is not valid (enableCallStack must be boolean type)`)}r.appenders.forEach((r=>{o.throwExceptionIf(e,o.not(s.get(r)),`category "${t}" is not valid (appender "${r}" is not defined)`)}));o.throwExceptionIf(e,o.not(i.getLevel(r.level)),`category "${t}" is not valid (level "${r.level}" not recognised;`+` valid levels are ${i.levels.join(", ")})`)}));o.throwExceptionIf(e,o.not(e.categories.default),'must define a "default" category.')}));const setup=e=>{a.clear();if(!e){return}const t=Object.keys(e.categories);t.forEach((t=>{const r=e.categories[t];const o=[];r.appenders.forEach((e=>{o.push(s.get(e));n(`Creating category ${t}`);a.set(t,{appenders:o,level:i.getLevel(r.level),enableCallStack:r.enableCallStack||false})}))}))};const init=()=>{setup()};init();o.addListener(setup);const configForCategory=e=>{n(`configForCategory: searching for config for ${e}`);if(a.has(e)){n(`configForCategory: ${e} exists in config, returning it`);return a.get(e)}let t;if(e.indexOf(".")>0){n(`configForCategory: ${e} has hierarchy, cloning from parents`);t={...configForCategory(e.slice(0,e.lastIndexOf(".")))}}else{if(!a.has("default")){setup({categories:{default:{appenders:["out"],level:"OFF"}}})}n("configForCategory: cloning default category");t={...a.get("default")}}a.set(e,t);return t};const appendersForCategory=e=>configForCategory(e).appenders;const getLevelForCategory=e=>configForCategory(e).level;const setLevelForCategory=(e,t)=>{configForCategory(e).level=t};const getEnableCallStackForCategory=e=>configForCategory(e).enableCallStack===true;const setEnableCallStackForCategory=(e,t)=>{configForCategory(e).enableCallStack=t};e.exports=a;e.exports=Object.assign(e.exports,{appendersForCategory:appendersForCategory,getLevelForCategory:getLevelForCategory,setLevelForCategory:setLevelForCategory,getEnableCallStackForCategory:getEnableCallStackForCategory,setEnableCallStackForCategory:setEnableCallStackForCategory,init:init})},7389:(e,t,r)=>{const n=r(9115)("log4js:clustering");const o=r(5557);const i=r(2622);let s=false;let a=null;try{a=r(5001)}catch(e){n("cluster module not present");s=true}const c=[];let l=false;let u="NODE_APP_INSTANCE";const isPM2Master=()=>l&&process.env[u]==="0";const isMaster=()=>s||a&&a.isMaster||isPM2Master();const sendToListeners=e=>{c.forEach((t=>t(e)))};const receiver=(e,t)=>{n("cluster message received from worker ",e,": ",t);if(e.topic&&e.data){t=e;e=undefined}if(t&&t.topic&&t.topic==="log4js:message"){n("received message: ",t.data);const e=o.deserialise(t.data);sendToListeners(e)}};if(!s){i.addListener((e=>{c.length=0;({pm2:l,disableClustering:s,pm2InstanceVar:u="NODE_APP_INSTANCE"}=e);n(`clustering disabled ? ${s}`);n(`cluster.isMaster ? ${a&&a.isMaster}`);n(`pm2 enabled ? ${l}`);n(`pm2InstanceVar = ${u}`);n(`process.env[${u}] = ${process.env[u]}`);if(l){process.removeListener("message",receiver)}if(a&&a.removeListener){a.removeListener("message",receiver)}if(s||e.disableClustering){n("Not listening for cluster messages, because clustering disabled.")}else if(isPM2Master()){n("listening for PM2 broadcast messages");process.on("message",receiver)}else if(a&&a.isMaster){n("listening for cluster messages");a.on("message",receiver)}else{n("not listening for messages, because we are not a master process")}}))}e.exports={onlyOnMaster:(e,t)=>isMaster()?e():t,isMaster:isMaster,send:e=>{if(isMaster()){sendToListeners(e)}else{if(!l){e.cluster={workerId:a.worker.id,worker:process.pid}}process.send({topic:"log4js:message",data:e.serialise()})}},onMessage:e=>{c.push(e)}}},2622:(e,t,r)=>{const n=r(3837);const o=r(9115)("log4js:configuration");const i=[];const s=[];const not=e=>!e;const anObject=e=>e&&typeof e==="object"&&!Array.isArray(e);const validIdentifier=e=>/^[A-Za-z][A-Za-z0-9_]*$/g.test(e);const anInteger=e=>e&&typeof e==="number"&&Number.isInteger(e);const addListener=e=>{s.push(e);o(`Added listener, now ${s.length} listeners`)};const addPreProcessingListener=e=>{i.push(e);o(`Added pre-processing listener, now ${i.length} listeners`)};const throwExceptionIf=(e,t,r)=>{const o=Array.isArray(t)?t:[t];o.forEach((t=>{if(t){throw new Error(`Problem with log4js configuration: (${n.inspect(e,{depth:5})}) - ${r}`)}}))};const configure=e=>{o("New configuration to be validated: ",e);throwExceptionIf(e,not(anObject(e)),"must be an object.");o(`Calling pre-processing listeners (${i.length})`);i.forEach((t=>t(e)));o("Configuration pre-processing finished.");o(`Calling configuration listeners (${s.length})`);s.forEach((t=>t(e)));o("Configuration finished.")};e.exports={configure:configure,addListener:addListener,addPreProcessingListener:addPreProcessingListener,throwExceptionIf:throwExceptionIf,anObject:anObject,anInteger:anInteger,validIdentifier:validIdentifier,not:not}},7863:(e,t,r)=>{const n=r(9995);const o=":remote-addr - -"+' ":method :url HTTP/:http-version"'+' :status :content-length ":referrer"'+' ":user-agent"';function getUrl(e){return e.originalUrl||e.url}function assembleTokens(e,t,r){const arrayUniqueTokens=e=>{const t=e.concat();for(let e=0;e<t.length;++e){for(let r=e+1;r<t.length;++r){if(t[e].token==t[r].token){t.splice(r--,1)}}}return t};const n=[];n.push({token:":url",replacement:getUrl(e)});n.push({token:":protocol",replacement:e.protocol});n.push({token:":hostname",replacement:e.hostname});n.push({token:":method",replacement:e.method});n.push({token:":status",replacement:t.__statusCode||t.statusCode});n.push({token:":response-time",replacement:t.responseTime});n.push({token:":date",replacement:(new Date).toUTCString()});n.push({token:":referrer",replacement:e.headers.referer||e.headers.referrer||""});n.push({token:":http-version",replacement:`${e.httpVersionMajor}.${e.httpVersionMinor}`});n.push({token:":remote-addr",replacement:e.headers["x-forwarded-for"]||e.ip||e._remoteAddress||e.socket&&(e.socket.remoteAddress||e.socket.socket&&e.socket.socket.remoteAddress)});n.push({token:":user-agent",replacement:e.headers["user-agent"]});n.push({token:":content-length",replacement:t.getHeader("content-length")||t.__headers&&t.__headers["Content-Length"]||"-"});n.push({token:/:req\[([^\]]+)]/g,replacement(t,r){return e.headers[r.toLowerCase()]}});n.push({token:/:res\[([^\]]+)]/g,replacement(e,r){return t.getHeader(r.toLowerCase())||t.__headers&&t.__headers[r]}});return arrayUniqueTokens(r.concat(n))}function format(e,t){for(let r=0;r<t.length;r++){e=e.replace(t[r].token,t[r].replacement)}return e}function createNoLogCondition(e){let t=null;if(e instanceof RegExp){t=e}if(typeof e==="string"){t=new RegExp(e)}if(Array.isArray(e)){const r=e.map((e=>e.source?e.source:e));t=new RegExp(r.join("|"))}return t}function matchRules(e,t,r){let o=t;if(r){const t=r.find((t=>{let r=false;if(t.from&&t.to){r=e>=t.from&&e<=t.to}else{r=t.codes.indexOf(e)!==-1}return r}));if(t){o=n.getLevel(t.level,o)}}return o}e.exports=function getLogger(e,t){if(typeof t==="string"||typeof t==="function"){t={format:t}}else{t=t||{}}const r=e;let i=n.getLevel(t.level,n.INFO);const s=t.format||o;return(e,o,a)=>{if(typeof e._logging!=="undefined")return a();if(typeof t.nolog!=="function"){const r=createNoLogCondition(t.nolog);if(r&&r.test(e.originalUrl))return a()}if(r.isLevelEnabled(i)||t.level==="auto"){const a=new Date;const{writeHead:c}=o;e._logging=true;o.writeHead=(e,t)=>{o.writeHead=c;o.writeHead(e,t);o.__statusCode=e;o.__headers=t||{}};let l=false;const handler=()=>{if(l){return}l=true;if(typeof t.nolog==="function"){if(t.nolog(e,o)===true){e._logging=false;return}}o.responseTime=new Date-a;if(o.statusCode&&t.level==="auto"){i=n.INFO;if(o.statusCode>=300)i=n.WARN;if(o.statusCode>=400)i=n.ERROR}i=matchRules(o.statusCode,i,t.statusRules);const c=assembleTokens(e,o,t.tokens||[]);if(t.context)r.addContext("res",o);if(typeof s==="function"){const t=s(e,o,(e=>format(e,c)));if(t)r.log(i,t)}else{r.log(i,format(s,c))}if(t.context)r.removeContext("res")};o.on("end",handler);o.on("finish",handler);o.on("error",handler);o.on("close",handler)}return a()}}},5945:(e,t,r)=>{const n=r(2175);const o=r(2037);const i=r(3837);const s=r(1017);const a=r(7310);const c=r(9115)("log4js:layouts");const l={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[91,39],yellow:[33,39]};function colorizeStart(e){return e?`[${l[e][0]}m`:""}function colorizeEnd(e){return e?`[${l[e][1]}m`:""}function colorize(e,t){return colorizeStart(t)+e+colorizeEnd(t)}function timestampLevelAndCategory(e,t){return colorize(i.format("[%s] [%s] %s - ",n.asString(e.startTime),e.level.toString(),e.categoryName),t)}function basicLayout(e){return timestampLevelAndCategory(e)+i.format(...e.data)}function colouredLayout(e){return timestampLevelAndCategory(e,e.level.colour)+i.format(...e.data)}function messagePassThroughLayout(e){return i.format(...e.data)}function dummyLayout(e){return e.data[0]}function patternLayout(e,t){const r="%r %p %c - %m%n";const l=/%(-?[0-9]+)?(\.?-?[0-9]+)?([[\]cdhmnprzxXyflosCMAF%])(\{([^}]+)\})?|([^%]+)/;e=e||r;function categoryName(e,t){let r=e.categoryName;if(t){const e=parseInt(t,10);const n=r.split(".");if(e<n.length){r=n.slice(n.length-e).join(".")}}return r}function formatAsDate(e,t){let r=n.ISO8601_FORMAT;if(t){r=t;switch(r){case"ISO8601":case"ISO8601_FORMAT":r=n.ISO8601_FORMAT;break;case"ISO8601_WITH_TZ_OFFSET":case"ISO8601_WITH_TZ_OFFSET_FORMAT":r=n.ISO8601_WITH_TZ_OFFSET_FORMAT;break;case"ABSOLUTE":process.emitWarning("Pattern %d{ABSOLUTE} is deprecated in favor of %d{ABSOLUTETIME}. "+"Please use %d{ABSOLUTETIME} instead.","DeprecationWarning","log4js-node-DEP0003");c("[log4js-node-DEP0003]","DEPRECATION: Pattern %d{ABSOLUTE} is deprecated and replaced by %d{ABSOLUTETIME}.");case"ABSOLUTETIME":case"ABSOLUTETIME_FORMAT":r=n.ABSOLUTETIME_FORMAT;break;case"DATE":process.emitWarning("Pattern %d{DATE} is deprecated due to the confusion it causes when used. "+"Please use %d{DATETIME} instead.","DeprecationWarning","log4js-node-DEP0004");c("[log4js-node-DEP0004]","DEPRECATION: Pattern %d{DATE} is deprecated and replaced by %d{DATETIME}.");case"DATETIME":case"DATETIME_FORMAT":r=n.DATETIME_FORMAT;break}}return n.asString(r,e.startTime)}function hostname(){return o.hostname().toString()}function formatMessage(e,t){let r=e.data;if(t){const[e,n]=t.split(",");r=r.slice(e,n)}return i.format(...r)}function endOfLine(){return o.EOL}function logLevel(e){return e.level.toString()}function startTime(e){return n.asString("hh:mm:ss",e.startTime)}function startColour(e){return colorizeStart(e.level.colour)}function endColour(e){return colorizeEnd(e.level.colour)}function percent(){return"%"}function pid(e){return e&&e.pid?e.pid.toString():process.pid.toString()}function clusterInfo(){return pid()}function userDefined(e,r){if(typeof t[r]!=="undefined"){return typeof t[r]==="function"?t[r](e):t[r]}return null}function contextDefined(e,t){const r=e.context[t];if(typeof r!=="undefined"){return typeof r==="function"?r(e):r}return null}function fileName(e,t){let r=e.fileName||"";const convertFileURLToPath=function(e){const t="file://";if(e.startsWith(t)){if(typeof a.fileURLToPath==="function"){e=a.fileURLToPath(e)}else{e=s.normalize(e.replace(new RegExp(`^${t}`),""));if(process.platform==="win32"){if(e.startsWith("\\")){e=e.slice(1)}else{e=s.sep+s.sep+e}}}}return e};r=convertFileURLToPath(r);if(t){const e=parseInt(t,10);const n=r.split(s.sep);if(n.length>e){r=n.slice(-e).join(s.sep)}}return r}function lineNumber(e){return e.lineNumber?`${e.lineNumber}`:""}function columnNumber(e){return e.columnNumber?`${e.columnNumber}`:""}function callStack(e){return e.callStack||""}function className(e){return e.className||""}function functionName(e){return e.functionName||""}function functionAlias(e){return e.functionAlias||""}function callerName(e){return e.callerName||""}const u={c:categoryName,d:formatAsDate,h:hostname,m:formatMessage,n:endOfLine,p:logLevel,r:startTime,"[":startColour,"]":endColour,y:clusterInfo,z:pid,"%":percent,x:userDefined,X:contextDefined,f:fileName,l:lineNumber,o:columnNumber,s:callStack,C:className,M:functionName,A:functionAlias,F:callerName};function replaceToken(e,t,r){return u[e](t,r)}function truncate(e,t){let r;if(e){r=parseInt(e.slice(1),10);return r>0?t.slice(0,r):t.slice(r)}return t}function pad(e,t){let r;if(e){if(e.charAt(0)==="-"){r=parseInt(e.slice(1),10);while(t.length<r){t+=" "}}else{r=parseInt(e,10);while(t.length<r){t=` ${t}`}}}return t}function truncateAndPad(e,t,r){let n=e;n=truncate(t,n);n=pad(r,n);return n}return function(t){let r="";let n;let o=e;while((n=l.exec(o))!==null){const e=n[1];const i=n[2];const s=n[3];const a=n[5];const c=n[6];if(c){r+=c.toString()}else{const n=replaceToken(s,t,a);r+=truncateAndPad(n,i,e)}o=o.slice(n.index+n[0].length)}return r}}const u={messagePassThrough(){return messagePassThroughLayout},basic(){return basicLayout},colored(){return colouredLayout},coloured(){return colouredLayout},pattern(e){return patternLayout(e&&e.pattern,e&&e.tokens)},dummy(){return dummyLayout}};e.exports={basicLayout:basicLayout,messagePassThroughLayout:messagePassThroughLayout,patternLayout:patternLayout,colouredLayout:colouredLayout,coloredLayout:colouredLayout,dummyLayout:dummyLayout,addLayout(e,t){u[e]=t},layout(e,t){return u[e]&&u[e](t)}}},9995:(e,t,r)=>{const n=r(2622);const o=["white","grey","black","blue","cyan","green","magenta","red","yellow"];class Level{constructor(e,t,r){this.level=e;this.levelStr=t;this.colour=r}toString(){return this.levelStr}static getLevel(e,t){if(!e){return t}if(e instanceof Level){return e}if(e instanceof Object&&e.levelStr){e=e.levelStr}return Level[e.toString().toUpperCase()]||t}static addLevels(e){if(e){const t=Object.keys(e);t.forEach((t=>{const r=t.toUpperCase();Level[r]=new Level(e[t].value,r,e[t].colour);const n=Level.levels.findIndex((e=>e.levelStr===r));if(n>-1){Level.levels[n]=Level[r]}else{Level.levels.push(Level[r])}}));Level.levels.sort(((e,t)=>e.level-t.level))}}isLessThanOrEqualTo(e){if(typeof e==="string"){e=Level.getLevel(e)}return this.level<=e.level}isGreaterThanOrEqualTo(e){if(typeof e==="string"){e=Level.getLevel(e)}return this.level>=e.level}isEqualTo(e){if(typeof e==="string"){e=Level.getLevel(e)}return this.level===e.level}}Level.levels=[];Level.addLevels({ALL:{value:Number.MIN_VALUE,colour:"grey"},TRACE:{value:5e3,colour:"blue"},DEBUG:{value:1e4,colour:"cyan"},INFO:{value:2e4,colour:"green"},WARN:{value:3e4,colour:"yellow"},ERROR:{value:4e4,colour:"red"},FATAL:{value:5e4,colour:"magenta"},MARK:{value:9007199254740992,colour:"grey"},OFF:{value:Number.MAX_VALUE,colour:"grey"}});n.addListener((e=>{const t=e.levels;if(t){n.throwExceptionIf(e,n.not(n.anObject(t)),"levels must be an object");const r=Object.keys(t);r.forEach((r=>{n.throwExceptionIf(e,n.not(n.validIdentifier(r)),`level name "${r}" is not a valid identifier (must start with a letter, only contain A-Z,a-z,0-9,_)`);n.throwExceptionIf(e,n.not(n.anObject(t[r])),`level "${r}" must be an object`);n.throwExceptionIf(e,n.not(t[r].value),`level "${r}" must have a 'value' property`);n.throwExceptionIf(e,n.not(n.anInteger(t[r].value)),`level "${r}".value must have an integer value`);n.throwExceptionIf(e,n.not(t[r].colour),`level "${r}" must have a 'colour' property`);n.throwExceptionIf(e,n.not(o.indexOf(t[r].colour)>-1),`level "${r}".colour must be one of ${o.join(", ")}`)}))}}));n.addListener((e=>{Level.addLevels(e.levels)}));e.exports=Level},8189:(e,t,r)=>{const n=r(9115)("log4js:main");const o=r(7147);const i=r(2273)({proto:true});const s=r(2622);const a=r(5945);const c=r(9995);const l=r(3003);const u=r(4335);const f=r(7325);const p=r(7389);const d=r(7863);const h=r(4119);let m=false;function sendLogEventToAppender(e){if(!m)return;n("Received log event ",e);const t=u.appendersForCategory(e.categoryName);t.forEach((t=>{t(e)}))}function loadConfigurationFile(e){n(`Loading configuration from ${e}`);try{return JSON.parse(o.readFileSync(e,"utf8"))}catch(t){throw new Error(`Problem reading config from file "${e}". Error was ${t.message}`,t)}}function configure(e){if(m){shutdown()}let t=e;if(typeof t==="string"){t=loadConfigurationFile(e)}n(`Configuration is ${t}`);s.configure(i(t));p.onMessage(sendLogEventToAppender);m=true;return y}function isConfigured(){return m}function recording(){return h}function shutdown(e=(()=>{})){if(typeof e!=="function"){throw new TypeError("Invalid callback passed to shutdown")}n("Shutdown called. Disabling all log writing.");m=false;const t=Array.from(l.values());l.init();u.init();const r=t.reduce(((e,t)=>t.shutdown?e+1:e),0);if(r===0){n("No appenders with shutdown functions found.");e()}let o=0;let i;n(`Found ${r} appenders with shutdown functions.`);function complete(t){i=i||t;o+=1;n(`Appender shutdowns complete: ${o} / ${r}`);if(o>=r){n("All shutdown functions completed.");e(i)}}t.filter((e=>e.shutdown)).forEach((e=>e.shutdown(complete)))}function getLogger(e){if(!m){configure(process.env.LOG4JS_CONFIG||{appenders:{out:{type:"stdout"}},categories:{default:{appenders:["out"],level:"OFF"}}})}return new f(e||"default")}const y={getLogger:getLogger,configure:configure,isConfigured:isConfigured,shutdown:shutdown,connectLogger:d,levels:c,addLayout:a.addLayout,recording:recording};e.exports=y},7325:(e,t,r)=>{const n=r(9115)("log4js:logger");const o=r(5557);const i=r(9995);const s=r(7389);const a=r(4335);const c=r(2622);const l=/^(?:\s*)at (?:(.+) \()?(?:([^(]+?):(\d+):(\d+))\)?$/;const u=1;const f=3;function defaultParseCallStack(e,t=f+u){try{const r=e.stack.split("\n").slice(t);if(!r.length){return null}const n=l.exec(r[0]);if(n&&n.length===5){let e="";let t="";let o="";if(n[1]&&n[1]!==""){[t,o]=n[1].replace(/[[\]]/g,"").split(" as ");o=o||"";if(t.includes("."))[e,t]=t.split(".")}return{fileName:n[2],lineNumber:parseInt(n[3],10),columnNumber:parseInt(n[4],10),callStack:r.join("\n"),className:e,functionName:t,functionAlias:o,callerName:n[1]||""}}else{console.error("log4js.logger - defaultParseCallStack error")}}catch(e){console.error("log4js.logger - defaultParseCallStack error",e)}return null}class Logger{constructor(e){if(!e){throw new Error("No category provided.")}this.category=e;this.context={};this.callStackSkipIndex=0;this.parseCallStack=defaultParseCallStack;n(`Logger created (${this.category}, ${this.level})`)}get level(){return i.getLevel(a.getLevelForCategory(this.category),i.OFF)}set level(e){a.setLevelForCategory(this.category,i.getLevel(e,this.level))}get useCallStack(){return a.getEnableCallStackForCategory(this.category)}set useCallStack(e){a.setEnableCallStackForCategory(this.category,e===true)}get callStackLinesToSkip(){return this.callStackSkipIndex}set callStackLinesToSkip(e){if(typeof e!=="number"){throw new TypeError("Must be a number")}if(e<0){throw new RangeError("Must be >= 0")}this.callStackSkipIndex=e}log(e,...t){const r=i.getLevel(e);if(!r){if(c.validIdentifier(e)&&t.length>0){this.log(i.WARN,"log4js:logger.log: valid log-level not found as first parameter given:",e);this.log(i.INFO,`[${e}]`,...t)}else{this.log(i.INFO,e,...t)}}else if(this.isLevelEnabled(r)){this._log(r,t)}}isLevelEnabled(e){return this.level.isLessThanOrEqualTo(e)}_log(e,t){n(`sending log data (${e}) to appenders`);const r=t.find((e=>e instanceof Error));let i;if(this.useCallStack){try{if(r){i=this.parseCallStack(r,this.callStackSkipIndex+u)}}catch(e){}i=i||this.parseCallStack(new Error,this.callStackSkipIndex+f+u)}const a=new o(this.category,e,t,this.context,i,r);s.send(a)}addContext(e,t){this.context[e]=t}removeContext(e){delete this.context[e]}clearContext(){this.context={}}setParseCallStackFunction(e){if(typeof e==="function"){this.parseCallStack=e}else if(typeof e==="undefined"){this.parseCallStack=defaultParseCallStack}else{throw new TypeError("Invalid type passed to setParseCallStackFunction")}}}function addLevelMethods(e){const t=i.getLevel(e);const r=t.toString().toLowerCase();const n=r.replace(/_([a-z])/g,(e=>e[1].toUpperCase()));const o=n[0].toUpperCase()+n.slice(1);Logger.prototype[`is${o}Enabled`]=function(){return this.isLevelEnabled(t)};Logger.prototype[n]=function(...e){this.log(t,...e)}}i.levels.forEach(addLevelMethods);c.addListener((()=>{i.levels.forEach(addLevelMethods)}));e.exports=Logger},5913:e=>{var t=1e3;var r=t*60;var n=r*60;var o=n*24;var i=o*7;var s=o*365.25;e.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0){return parse(e)}else if(r==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a){return}var c=parseFloat(a[1]);var l=(a[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return undefined}}function fmtShort(e){var i=Math.abs(e);if(i>=o){return Math.round(e/o)+"d"}if(i>=n){return Math.round(e/n)+"h"}if(i>=r){return Math.round(e/r)+"m"}if(i>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var i=Math.abs(e);if(i>=o){return plural(e,i,o,"day")}if(i>=n){return plural(e,i,n,"hour")}if(i>=r){return plural(e,i,r,"minute")}if(i>=t){return plural(e,i,t,"second")}return e+" ms"}function plural(e,t,r,n){var o=t>=r*1.5;return Math.round(e/r)+" "+n+(o?"s":"")}},2273:e=>{e.exports=rfdc;function copyBuffer(e){if(e instanceof Buffer){return Buffer.from(e)}return new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function rfdc(e){e=e||{};if(e.circles)return rfdcCircles(e);const t=new Map;t.set(Date,(e=>new Date(e)));t.set(Map,((e,t)=>new Map(cloneArray(Array.from(e),t))));t.set(Set,((e,t)=>new Set(cloneArray(Array.from(e),t))));if(e.constructorHandlers){for(const r of e.constructorHandlers){t.set(r[0],r[1])}}let r=null;return e.proto?cloneProto:clone;function cloneArray(e,n){const o=Object.keys(e);const i=new Array(o.length);for(let s=0;s<o.length;s++){const a=o[s];const c=e[a];if(typeof c!=="object"||c===null){i[a]=c}else if(c.constructor!==Object&&(r=t.get(c.constructor))){i[a]=r(c,n)}else if(ArrayBuffer.isView(c)){i[a]=copyBuffer(c)}else{i[a]=n(c)}}return i}function clone(e){if(typeof e!=="object"||e===null)return e;if(Array.isArray(e))return cloneArray(e,clone);if(e.constructor!==Object&&(r=t.get(e.constructor))){return r(e,clone)}const n={};for(const o in e){if(Object.hasOwnProperty.call(e,o)===false)continue;const i=e[o];if(typeof i!=="object"||i===null){n[o]=i}else if(i.constructor!==Object&&(r=t.get(i.constructor))){n[o]=r(i,clone)}else if(ArrayBuffer.isView(i)){n[o]=copyBuffer(i)}else{n[o]=clone(i)}}return n}function cloneProto(e){if(typeof e!=="object"||e===null)return e;if(Array.isArray(e))return cloneArray(e,cloneProto);if(e.constructor!==Object&&(r=t.get(e.constructor))){return r(e,cloneProto)}const n={};for(const o in e){const i=e[o];if(typeof i!=="object"||i===null){n[o]=i}else if(i.constructor!==Object&&(r=t.get(i.constructor))){n[o]=r(i,cloneProto)}else if(ArrayBuffer.isView(i)){n[o]=copyBuffer(i)}else{n[o]=cloneProto(i)}}return n}}function rfdcCircles(e){const t=[];const r=[];const n=new Map;n.set(Date,(e=>new Date(e)));n.set(Map,((e,t)=>new Map(cloneArray(Array.from(e),t))));n.set(Set,((e,t)=>new Set(cloneArray(Array.from(e),t))));if(e.constructorHandlers){for(const t of e.constructorHandlers){n.set(t[0],t[1])}}let o=null;return e.proto?cloneProto:clone;function cloneArray(e,i){const s=Object.keys(e);const a=new Array(s.length);for(let c=0;c<s.length;c++){const l=s[c];const u=e[l];if(typeof u!=="object"||u===null){a[l]=u}else if(u.constructor!==Object&&(o=n.get(u.constructor))){a[l]=o(u,i)}else if(ArrayBuffer.isView(u)){a[l]=copyBuffer(u)}else{const e=t.indexOf(u);if(e!==-1){a[l]=r[e]}else{a[l]=i(u)}}}return a}function clone(e){if(typeof e!=="object"||e===null)return e;if(Array.isArray(e))return cloneArray(e,clone);if(e.constructor!==Object&&(o=n.get(e.constructor))){return o(e,clone)}const i={};t.push(e);r.push(i);for(const s in e){if(Object.hasOwnProperty.call(e,s)===false)continue;const a=e[s];if(typeof a!=="object"||a===null){i[s]=a}else if(a.constructor!==Object&&(o=n.get(a.constructor))){i[s]=o(a,clone)}else if(ArrayBuffer.isView(a)){i[s]=copyBuffer(a)}else{const e=t.indexOf(a);if(e!==-1){i[s]=r[e]}else{i[s]=clone(a)}}}t.pop();r.pop();return i}function cloneProto(e){if(typeof e!=="object"||e===null)return e;if(Array.isArray(e))return cloneArray(e,cloneProto);if(e.constructor!==Object&&(o=n.get(e.constructor))){return o(e,cloneProto)}const i={};t.push(e);r.push(i);for(const s in e){const a=e[s];if(typeof a!=="object"||a===null){i[s]=a}else if(a.constructor!==Object&&(o=n.get(a.constructor))){i[s]=o(a,cloneProto)}else if(ArrayBuffer.isView(a)){i[s]=copyBuffer(a)}else{const e=t.indexOf(a);if(e!==-1){i[s]=r[e]}else{i[s]=cloneProto(a)}}}t.pop();r.pop();return i}}},6053:(e,t,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(4300);var o=n.Buffer;function copyProps(e,t){for(var r in e){t[r]=e[r]}}if(o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow){e.exports=n}else{copyProps(n,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,r){return o(e,t,r)}SafeBuffer.prototype=Object.create(o.prototype);copyProps(o,SafeBuffer);SafeBuffer.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return o(e,t,r)};SafeBuffer.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var n=o(e);if(t!==undefined){if(typeof r==="string"){n.fill(t,r)}else{n.fill(t)}}else{n.fill(0)}return n};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return o(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(e)}},1934:(e,t,r)=>{const n=Symbol("SemVer ANY");class Comparator{static get ANY(){return n}constructor(e,t){t=o(t);if(e instanceof Comparator){if(e.loose===!!t.loose){return e}else{e=e.value}}e=e.trim().split(/\s+/).join(" ");c("comparator",e,t);this.options=t;this.loose=!!t.loose;this.parse(e);if(this.semver===n){this.value=""}else{this.value=this.operator+this.semver.version}c("comp",this)}parse(e){const t=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR];const r=e.match(t);if(!r){throw new TypeError(`Invalid comparator: ${e}`)}this.operator=r[1]!==undefined?r[1]:"";if(this.operator==="="){this.operator=""}if(!r[2]){this.semver=n}else{this.semver=new l(r[2],this.options.loose)}}toString(){return this.value}test(e){c("Comparator.test",e,this.options.loose);if(this.semver===n||e===n){return true}if(typeof e==="string"){try{e=new l(e,this.options)}catch(e){return false}}return a(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Comparator)){throw new TypeError("a Comparator is required")}if(this.operator===""){if(this.value===""){return true}return new u(e.value,t).test(this.value)}else if(e.operator===""){if(e.value===""){return true}return new u(this.value,t).test(e.semver)}t=o(t);if(t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")){return false}if(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))){return false}if(this.operator.startsWith(">")&&e.operator.startsWith(">")){return true}if(this.operator.startsWith("<")&&e.operator.startsWith("<")){return true}if(this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")){return true}if(a(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")){return true}if(a(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")){return true}return false}}e.exports=Comparator;const o=r(7106);const{safeRe:i,t:s}=r(2558);const a=r(8559);const c=r(4124);const l=r(8510);const u=r(4594)},4594:(e,t,r)=>{const n=/\s+/g;class Range{constructor(e,t){t=s(t);if(e instanceof Range){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease){return e}else{return new Range(e.raw,t)}}if(e instanceof a){this.raw=e.value;this.set=[[e]];this.formatted=undefined;return this}this.options=t;this.loose=!!t.loose;this.includePrerelease=!!t.includePrerelease;this.raw=e.trim().replace(n," ");this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length));if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${this.raw}`)}if(this.set.length>1){const e=this.set[0];this.set=this.set.filter((e=>!isNullSet(e[0])));if(this.set.length===0){this.set=[e]}else if(this.set.length>1){for(const e of this.set){if(e.length===1&&isAny(e[0])){this.set=[e];break}}}}this.formatted=undefined}get range(){if(this.formatted===undefined){this.formatted="";for(let e=0;e<this.set.length;e++){if(e>0){this.formatted+="||"}const t=this.set[e];for(let e=0;e<t.length;e++){if(e>0){this.formatted+=" "}this.formatted+=t[e].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=(this.options.includePrerelease&&m)|(this.options.loose&&y);const r=t+":"+e;const n=i.get(r);if(n){return n}const o=this.options.loose;const s=o?u[f.HYPHENRANGELOOSE]:u[f.HYPHENRANGE];e=e.replace(s,hyphenReplace(this.options.includePrerelease));c("hyphen replace",e);e=e.replace(u[f.COMPARATORTRIM],p);c("comparator trim",e);e=e.replace(u[f.TILDETRIM],d);c("tilde trim",e);e=e.replace(u[f.CARETTRIM],h);c("caret trim",e);let l=e.split(" ").map((e=>parseComparator(e,this.options))).join(" ").split(/\s+/).map((e=>replaceGTE0(e,this.options)));if(o){l=l.filter((e=>{c("loose invalid filter",e,this.options);return!!e.match(u[f.COMPARATORLOOSE])}))}c("range list",l);const g=new Map;const S=l.map((e=>new a(e,this.options)));for(const e of S){if(isNullSet(e)){return[e]}g.set(e.value,e)}if(g.size>1&&g.has("")){g.delete("")}const v=[...g.values()];i.set(r,v);return v}intersects(e,t){if(!(e instanceof Range)){throw new TypeError("a Range is required")}return this.set.some((r=>isSatisfiable(r,t)&&e.set.some((e=>isSatisfiable(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e){return false}if(typeof e==="string"){try{e=new l(e,this.options)}catch(e){return false}}for(let t=0;t<this.set.length;t++){if(testSet(this.set[t],e,this.options)){return true}}return false}}e.exports=Range;const o=r(9187);const i=new o;const s=r(7106);const a=r(1934);const c=r(4124);const l=r(8510);const{safeRe:u,t:f,comparatorTrimReplace:p,tildeTrimReplace:d,caretTrimReplace:h}=r(2558);const{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=r(6646);const isNullSet=e=>e.value==="<0.0.0-0";const isAny=e=>e.value==="";const isSatisfiable=(e,t)=>{let r=true;const n=e.slice();let o=n.pop();while(r&&n.length){r=n.every((e=>o.intersects(e,t)));o=n.pop()}return r};const parseComparator=(e,t)=>{c("comp",e,t);e=replaceCarets(e,t);c("caret",e);e=replaceTildes(e,t);c("tildes",e);e=replaceXRanges(e,t);c("xrange",e);e=replaceStars(e,t);c("stars",e);return e};const isX=e=>!e||e.toLowerCase()==="x"||e==="*";const replaceTildes=(e,t)=>e.trim().split(/\s+/).map((e=>replaceTilde(e,t))).join(" ");const replaceTilde=(e,t)=>{const r=t.loose?u[f.TILDELOOSE]:u[f.TILDE];return e.replace(r,((t,r,n,o,i)=>{c("tilde",e,t,r,n,o,i);let s;if(isX(r)){s=""}else if(isX(n)){s=`>=${r}.0.0 <${+r+1}.0.0-0`}else if(isX(o)){s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`}else if(i){c("replaceTilde pr",i);s=`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`}else{s=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`}c("tilde return",s);return s}))};const replaceCarets=(e,t)=>e.trim().split(/\s+/).map((e=>replaceCaret(e,t))).join(" ");const replaceCaret=(e,t)=>{c("caret",e,t);const r=t.loose?u[f.CARETLOOSE]:u[f.CARET];const n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,i,s)=>{c("caret",e,t,r,o,i,s);let a;if(isX(r)){a=""}else if(isX(o)){a=`>=${r}.0.0${n} <${+r+1}.0.0-0`}else if(isX(i)){if(r==="0"){a=`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`}else{a=`>=${r}.${o}.0${n} <${+r+1}.0.0-0`}}else if(s){c("replaceCaret pr",s);if(r==="0"){if(o==="0"){a=`>=${r}.${o}.${i}-${s} <${r}.${o}.${+i+1}-0`}else{a=`>=${r}.${o}.${i}-${s} <${r}.${+o+1}.0-0`}}else{a=`>=${r}.${o}.${i}-${s} <${+r+1}.0.0-0`}}else{c("no pr");if(r==="0"){if(o==="0"){a=`>=${r}.${o}.${i}${n} <${r}.${o}.${+i+1}-0`}else{a=`>=${r}.${o}.${i}${n} <${r}.${+o+1}.0-0`}}else{a=`>=${r}.${o}.${i} <${+r+1}.0.0-0`}}c("caret return",a);return a}))};const replaceXRanges=(e,t)=>{c("replaceXRanges",e,t);return e.split(/\s+/).map((e=>replaceXRange(e,t))).join(" ")};const replaceXRange=(e,t)=>{e=e.trim();const r=t.loose?u[f.XRANGELOOSE]:u[f.XRANGE];return e.replace(r,((r,n,o,i,s,a)=>{c("xRange",e,r,n,o,i,s,a);const l=isX(o);const u=l||isX(i);const f=u||isX(s);const p=f;if(n==="="&&p){n=""}a=t.includePrerelease?"-0":"";if(l){if(n===">"||n==="<"){r="<0.0.0-0"}else{r="*"}}else if(n&&p){if(u){i=0}s=0;if(n===">"){n=">=";if(u){o=+o+1;i=0;s=0}else{i=+i+1;s=0}}else if(n==="<="){n="<";if(u){o=+o+1}else{i=+i+1}}if(n==="<"){a="-0"}r=`${n+o}.${i}.${s}${a}`}else if(u){r=`>=${o}.0.0${a} <${+o+1}.0.0-0`}else if(f){r=`>=${o}.${i}.0${a} <${o}.${+i+1}.0-0`}c("xRange return",r);return r}))};const replaceStars=(e,t)=>{c("replaceStars",e,t);return e.trim().replace(u[f.STAR],"")};const replaceGTE0=(e,t)=>{c("replaceGTE0",e,t);return e.trim().replace(u[t.includePrerelease?f.GTE0PRE:f.GTE0],"")};const hyphenReplace=e=>(t,r,n,o,i,s,a,c,l,u,f,p)=>{if(isX(n)){r=""}else if(isX(o)){r=`>=${n}.0.0${e?"-0":""}`}else if(isX(i)){r=`>=${n}.${o}.0${e?"-0":""}`}else if(s){r=`>=${r}`}else{r=`>=${r}${e?"-0":""}`}if(isX(l)){c=""}else if(isX(u)){c=`<${+l+1}.0.0-0`}else if(isX(f)){c=`<${l}.${+u+1}.0-0`}else if(p){c=`<=${l}.${u}.${f}-${p}`}else if(e){c=`<${l}.${u}.${+f+1}-0`}else{c=`<=${c}`}return`${r} ${c}`.trim()};const testSet=(e,t,r)=>{for(let r=0;r<e.length;r++){if(!e[r].test(t)){return false}}if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++){c(e[r].semver);if(e[r].semver===a.ANY){continue}if(e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch){return true}}}return false}return true}},8510:(e,t,r)=>{const n=r(4124);const{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(6646);const{safeRe:s,safeSrc:a,t:c}=r(2558);const l=r(7106);const{compareIdentifiers:u}=r(3468);class SemVer{constructor(e,t){t=l(t);if(e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease){return e}else{e=e.version}}else if(typeof e!=="string"){throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`)}if(e.length>o){throw new TypeError(`version is longer than ${o} characters`)}n("SemVer",e,t);this.options=t;this.loose=!!t.loose;this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[c.LOOSE]:s[c.FULL]);if(!r){throw new TypeError(`Invalid Version: ${e}`)}this.raw=e;this.major=+r[1];this.minor=+r[2];this.patch=+r[3];if(this.major>i||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>i||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>i||this.patch<0){throw new TypeError("Invalid patch version")}if(!r[4]){this.prerelease=[]}else{this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i){return t}}return e}))}this.build=r[5]?r[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(e){n("SemVer.compare",this.version,this.options,e);if(!(e instanceof SemVer)){if(typeof e==="string"&&e===this.version){return 0}e=new SemVer(e,this.options)}if(e.version===this.version){return 0}return this.compareMain(e)||this.comparePre(e)}compareMain(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}return u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}if(this.prerelease.length&&!e.prerelease.length){return-1}else if(!this.prerelease.length&&e.prerelease.length){return 1}else if(!this.prerelease.length&&!e.prerelease.length){return 0}let t=0;do{const r=this.prerelease[t];const o=e.prerelease[t];n("prerelease compare",t,r,o);if(r===undefined&&o===undefined){return 0}else if(o===undefined){return 1}else if(r===undefined){return-1}else if(r===o){continue}else{return u(r,o)}}while(++t)}compareBuild(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}let t=0;do{const r=this.build[t];const o=e.build[t];n("build compare",t,r,o);if(r===undefined&&o===undefined){return 0}else if(o===undefined){return 1}else if(r===undefined){return-1}else if(r===o){continue}else{return u(r,o)}}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&r===false){throw new Error("invalid increment argument: identifier is empty")}if(t){const e=new RegExp(`^${this.options.loose?a[c.PRERELEASELOOSE]:a[c.PRERELEASE]}$`);const r=`-${t}`.match(e);if(!r||r[1]!==t){throw new Error(`invalid identifier: ${t}`)}}}switch(e){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0;this.inc("patch",t,r);this.inc("pre",t,r);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",t,r)}this.inc("pre",t,r);break;case"release":if(this.prerelease.length===0){throw new Error(`version ${this.raw} is not a prerelease`)}this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(this.prerelease.length===0){this.prerelease=[e]}else{let n=this.prerelease.length;while(--n>=0){if(typeof this.prerelease[n]==="number"){this.prerelease[n]++;n=-2}}if(n===-1){if(t===this.prerelease.join(".")&&r===false){throw new Error("invalid increment argument: identifier already exists")}this.prerelease.push(e)}}if(t){let n=[t,e];if(r===false){n=[t]}if(u(this.prerelease[0],t)===0){if(isNaN(this.prerelease[1])){this.prerelease=n}}else{this.prerelease=n}}break}default:throw new Error(`invalid increment argument: ${e}`)}this.raw=this.format();if(this.build.length){this.raw+=`+${this.build.join(".")}`}return this}}e.exports=SemVer},7704:(e,t,r)=>{const n=r(7438);const clean=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};e.exports=clean},8559:(e,t,r)=>{const n=r(6110);const o=r(2840);const i=r(6578);const s=r(8182);const a=r(5185);const c=r(8460);const cmp=(e,t,r,l)=>{switch(t){case"===":if(typeof e==="object"){e=e.version}if(typeof r==="object"){r=r.version}return e===r;case"!==":if(typeof e==="object"){e=e.version}if(typeof r==="object"){r=r.version}return e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return i(e,r,l);case">=":return s(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}};e.exports=cmp},1175:(e,t,r)=>{const n=r(8510);const o=r(7438);const{safeRe:i,t:s}=r(2558);const coerce=(e,t)=>{if(e instanceof n){return e}if(typeof e==="number"){e=String(e)}if(typeof e!=="string"){return null}t=t||{};let r=null;if(!t.rtl){r=e.match(t.includePrerelease?i[s.COERCEFULL]:i[s.COERCE])}else{const n=t.includePrerelease?i[s.COERCERTLFULL]:i[s.COERCERTL];let o;while((o=n.exec(e))&&(!r||r.index+r[0].length!==e.length)){if(!r||o.index+o[0].length!==r.index+r[0].length){r=o}n.lastIndex=o.index+o[1].length+o[2].length}n.lastIndex=-1}if(r===null){return null}const a=r[2];const c=r[3]||"0";const l=r[4]||"0";const u=t.includePrerelease&&r[5]?`-${r[5]}`:"";const f=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${f}`,t)};e.exports=coerce},4072:(e,t,r)=>{const n=r(8510);const compareBuild=(e,t,r)=>{const o=new n(e,r);const i=new n(t,r);return o.compare(i)||o.compareBuild(i)};e.exports=compareBuild},1236:(e,t,r)=>{const n=r(9545);const compareLoose=(e,t)=>n(e,t,true);e.exports=compareLoose},9545:(e,t,r)=>{const n=r(8510);const compare=(e,t,r)=>new n(e,r).compare(new n(t,r));e.exports=compare},7818:(e,t,r)=>{const n=r(7438);const diff=(e,t)=>{const r=n(e,null,true);const o=n(t,null,true);const i=r.compare(o);if(i===0){return null}const s=i>0;const a=s?r:o;const c=s?o:r;const l=!!a.prerelease.length;const u=!!c.prerelease.length;if(u&&!l){if(!c.patch&&!c.minor){return"major"}if(c.compareMain(a)===0){if(c.minor&&!c.patch){return"minor"}return"patch"}}const f=l?"pre":"";if(r.major!==o.major){return f+"major"}if(r.minor!==o.minor){return f+"minor"}if(r.patch!==o.patch){return f+"patch"}return"prerelease"};e.exports=diff},6110:(e,t,r)=>{const n=r(9545);const eq=(e,t,r)=>n(e,t,r)===0;e.exports=eq},6578:(e,t,r)=>{const n=r(9545);const gt=(e,t,r)=>n(e,t,r)>0;e.exports=gt},8182:(e,t,r)=>{const n=r(9545);const gte=(e,t,r)=>n(e,t,r)>=0;e.exports=gte},5186:(e,t,r)=>{const n=r(8510);const inc=(e,t,r,o,i)=>{if(typeof r==="string"){i=o;o=r;r=undefined}try{return new n(e instanceof n?e.version:e,r).inc(t,o,i).version}catch(e){return null}};e.exports=inc},5185:(e,t,r)=>{const n=r(9545);const lt=(e,t,r)=>n(e,t,r)<0;e.exports=lt},8460:(e,t,r)=>{const n=r(9545);const lte=(e,t,r)=>n(e,t,r)<=0;e.exports=lte},5595:(e,t,r)=>{const n=r(8510);const major=(e,t)=>new n(e,t).major;e.exports=major},1641:(e,t,r)=>{const n=r(8510);const minor=(e,t)=>new n(e,t).minor;e.exports=minor},2840:(e,t,r)=>{const n=r(9545);const neq=(e,t,r)=>n(e,t,r)!==0;e.exports=neq},7438:(e,t,r)=>{const n=r(8510);const parse=(e,t,r=false)=>{if(e instanceof n){return e}try{return new n(e,t)}catch(e){if(!r){return null}throw e}};e.exports=parse},5118:(e,t,r)=>{const n=r(8510);const patch=(e,t)=>new n(e,t).patch;e.exports=patch},782:(e,t,r)=>{const n=r(7438);const prerelease=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null};e.exports=prerelease},4039:(e,t,r)=>{const n=r(9545);const rcompare=(e,t,r)=>n(t,e,r);e.exports=rcompare},6800:(e,t,r)=>{const n=r(4072);const rsort=(e,t)=>e.sort(((e,r)=>n(r,e,t)));e.exports=rsort},1008:(e,t,r)=>{const n=r(4594);const satisfies=(e,t,r)=>{try{t=new n(t,r)}catch(e){return false}return t.test(e)};e.exports=satisfies},8766:(e,t,r)=>{const n=r(4072);const sort=(e,t)=>e.sort(((e,r)=>n(e,r,t)));e.exports=sort},6121:(e,t,r)=>{const n=r(7438);const valid=(e,t)=>{const r=n(e,t);return r?r.version:null};e.exports=valid},2311:(e,t,r)=>{const n=r(2558);const o=r(6646);const i=r(8510);const s=r(3468);const a=r(7438);const c=r(6121);const l=r(7704);const u=r(5186);const f=r(7818);const p=r(5595);const d=r(1641);const h=r(5118);const m=r(782);const y=r(9545);const g=r(4039);const S=r(1236);const v=r(4072);const E=r(8766);const b=r(6800);const w=r(6578);const O=r(5185);const x=r(6110);const k=r(2840);const I=r(8182);const F=r(8460);const A=r(8559);const T=r(1175);const C=r(1934);const R=r(4594);const L=r(1008);const $=r(6250);const N=r(3202);const j=r(6122);const P=r(3604);const _=r(8650);const D=r(1810);const M=r(1274);const B=r(9611);const G=r(9304);const W=r(6972);const U=r(8919);e.exports={parse:a,valid:c,clean:l,inc:u,diff:f,major:p,minor:d,patch:h,prerelease:m,compare:y,rcompare:g,compareLoose:S,compareBuild:v,sort:E,rsort:b,gt:w,lt:O,eq:x,neq:k,gte:I,lte:F,cmp:A,coerce:T,Comparator:C,Range:R,satisfies:L,toComparators:$,maxSatisfying:N,minSatisfying:j,minVersion:P,validRange:_,outside:D,gtr:M,ltr:B,intersects:G,simplifyRange:W,subset:U,SemVer:i,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},6646:e=>{const t="2.0.0";const r=256;const n=Number.MAX_SAFE_INTEGER||9007199254740991;const o=16;const i=r-6;const s=["major","premajor","minor","preminor","patch","prepatch","prerelease"];e.exports={MAX_LENGTH:r,MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:s,SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},4124:e=>{const t=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},3468:e=>{const t=/^[0-9]+$/;const compareIdentifiers=(e,r)=>{const n=t.test(e);const o=t.test(r);if(n&&o){e=+e;r=+r}return e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};const rcompareIdentifiers=(e,t)=>compareIdentifiers(t,e);e.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},9187:e=>{class LRUCache{constructor(){this.max=1e3;this.map=new Map}get(e){const t=this.map.get(e);if(t===undefined){return undefined}else{this.map.delete(e);this.map.set(e,t);return t}}delete(e){return this.map.delete(e)}set(e,t){const r=this.delete(e);if(!r&&t!==undefined){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=LRUCache},7106:e=>{const t=Object.freeze({loose:true});const r=Object.freeze({});const parseOptions=e=>{if(!e){return r}if(typeof e!=="object"){return t}return e};e.exports=parseOptions},2558:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=r(6646);const s=r(4124);t=e.exports={};const a=t.re=[];const c=t.safeRe=[];const l=t.src=[];const u=t.safeSrc=[];const f=t.t={};let p=0;const d="[a-zA-Z0-9-]";const h=[["\\s",1],["\\d",i],[d,o]];const makeSafeRegex=e=>{for(const[t,r]of h){e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`)}return e};const createToken=(e,t,r)=>{const n=makeSafeRegex(t);const o=p++;s(e,o,t);f[e]=o;l[o]=t;u[o]=n;a[o]=new RegExp(t,r?"g":undefined);c[o]=new RegExp(n,r?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","\\d+");createToken("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`);createToken("MAINVERSION",`(${l[f.NUMERICIDENTIFIER]})\\.`+`(${l[f.NUMERICIDENTIFIER]})\\.`+`(${l[f.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${l[f.NUMERICIDENTIFIERLOOSE]})\\.`+`(${l[f.NUMERICIDENTIFIERLOOSE]})\\.`+`(${l[f.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${l[f.NUMERICIDENTIFIER]}|${l[f.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${l[f.NUMERICIDENTIFIERLOOSE]}|${l[f.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${l[f.PRERELEASEIDENTIFIER]}(?:\\.${l[f.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${l[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[f.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER",`${d}+`);createToken("BUILD",`(?:\\+(${l[f.BUILDIDENTIFIER]}(?:\\.${l[f.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${l[f.MAINVERSION]}${l[f.PRERELEASE]}?${l[f.BUILD]}?`);createToken("FULL",`^${l[f.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${l[f.MAINVERSIONLOOSE]}${l[f.PRERELEASELOOSE]}?${l[f.BUILD]}?`);createToken("LOOSE",`^${l[f.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${l[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${l[f.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${l[f.XRANGEIDENTIFIER]})`+`(?:\\.(${l[f.XRANGEIDENTIFIER]})`+`(?:\\.(${l[f.XRANGEIDENTIFIER]})`+`(?:${l[f.PRERELEASE]})?${l[f.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${l[f.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${l[f.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${l[f.XRANGEIDENTIFIERLOOSE]})`+`(?:${l[f.PRERELEASELOOSE]})?${l[f.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${l[f.GTLT]}\\s*${l[f.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${l[f.GTLT]}\\s*${l[f.XRANGEPLAINLOOSE]}$`);createToken("COERCEPLAIN",`${"(^|[^\\d])"+"(\\d{1,"}${n}})`+`(?:\\.(\\d{1,${n}}))?`+`(?:\\.(\\d{1,${n}}))?`);createToken("COERCE",`${l[f.COERCEPLAIN]}(?:$|[^\\d])`);createToken("COERCEFULL",l[f.COERCEPLAIN]+`(?:${l[f.PRERELEASE]})?`+`(?:${l[f.BUILD]})?`+`(?:$|[^\\d])`);createToken("COERCERTL",l[f.COERCE],true);createToken("COERCERTLFULL",l[f.COERCEFULL],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${l[f.LONETILDE]}\\s+`,true);t.tildeTrimReplace="$1~";createToken("TILDE",`^${l[f.LONETILDE]}${l[f.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${l[f.LONETILDE]}${l[f.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${l[f.LONECARET]}\\s+`,true);t.caretTrimReplace="$1^";createToken("CARET",`^${l[f.LONECARET]}${l[f.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${l[f.LONECARET]}${l[f.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${l[f.GTLT]}\\s*(${l[f.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${l[f.GTLT]}\\s*(${l[f.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${l[f.GTLT]}\\s*(${l[f.LOOSEPLAIN]}|${l[f.XRANGEPLAIN]})`,true);t.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${l[f.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${l[f.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${l[f.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${l[f.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},1274:(e,t,r)=>{const n=r(1810);const gtr=(e,t,r)=>n(e,t,">",r);e.exports=gtr},9304:(e,t,r)=>{const n=r(4594);const intersects=(e,t,r)=>{e=new n(e,r);t=new n(t,r);return e.intersects(t,r)};e.exports=intersects},9611:(e,t,r)=>{const n=r(1810);const ltr=(e,t,r)=>n(e,t,"<",r);e.exports=ltr},3202:(e,t,r)=>{const n=r(8510);const o=r(4594);const maxSatisfying=(e,t,r)=>{let i=null;let s=null;let a=null;try{a=new o(t,r)}catch(e){return null}e.forEach((e=>{if(a.test(e)){if(!i||s.compare(e)===-1){i=e;s=new n(i,r)}}}));return i};e.exports=maxSatisfying},6122:(e,t,r)=>{const n=r(8510);const o=r(4594);const minSatisfying=(e,t,r)=>{let i=null;let s=null;let a=null;try{a=new o(t,r)}catch(e){return null}e.forEach((e=>{if(a.test(e)){if(!i||s.compare(e)===1){i=e;s=new n(i,r)}}}));return i};e.exports=minSatisfying},3604:(e,t,r)=>{const n=r(8510);const o=r(4594);const i=r(6578);const minVersion=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r)){return r}r=new n("0.0.0-0");if(e.test(r)){return r}r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let s=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":if(t.prerelease.length===0){t.patch++}else{t.prerelease.push(0)}t.raw=t.format();case"":case">=":if(!s||i(t,s)){s=t}break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}));if(s&&(!r||i(r,s))){r=s}}if(r&&e.test(r)){return r}return null};e.exports=minVersion},1810:(e,t,r)=>{const n=r(8510);const o=r(1934);const{ANY:i}=o;const s=r(4594);const a=r(1008);const c=r(6578);const l=r(5185);const u=r(8460);const f=r(8182);const outside=(e,t,r,p)=>{e=new n(e,p);t=new s(t,p);let d,h,m,y,g;switch(r){case">":d=c;h=u;m=l;y=">";g=">=";break;case"<":d=l;h=f;m=c;y="<";g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,p)){return false}for(let r=0;r<t.set.length;++r){const n=t.set[r];let s=null;let a=null;n.forEach((e=>{if(e.semver===i){e=new o(">=0.0.0")}s=s||e;a=a||e;if(d(e.semver,s.semver,p)){s=e}else if(m(e.semver,a.semver,p)){a=e}}));if(s.operator===y||s.operator===g){return false}if((!a.operator||a.operator===y)&&h(e,a.semver)){return false}else if(a.operator===g&&m(e,a.semver)){return false}}return true};e.exports=outside},6972:(e,t,r)=>{const n=r(1008);const o=r(9545);e.exports=(e,t,r)=>{const i=[];let s=null;let a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c){const o=n(e,t,r);if(o){a=e;if(!s){s=e}}else{if(a){i.push([s,a])}a=null;s=null}}if(s){i.push([s,null])}const l=[];for(const[e,t]of i){if(e===t){l.push(e)}else if(!t&&e===c[0]){l.push("*")}else if(!t){l.push(`>=${e}`)}else if(e===c[0]){l.push(`<=${t}`)}else{l.push(`${e} - ${t}`)}}const u=l.join(" || ");const f=typeof t.raw==="string"?t.raw:String(t);return u.length<f.length?u:t}},8919:(e,t,r)=>{const n=r(4594);const o=r(1934);const{ANY:i}=o;const s=r(1008);const a=r(9545);const subset=(e,t,r={})=>{if(e===t){return true}e=new n(e,r);t=new n(t,r);let o=false;e:for(const n of e.set){for(const e of t.set){const t=simpleSubset(n,e,r);o=o||t!==null;if(t){continue e}}if(o){return false}}return true};const c=[new o(">=0.0.0-0")];const l=[new o(">=0.0.0")];const simpleSubset=(e,t,r)=>{if(e===t){return true}if(e.length===1&&e[0].semver===i){if(t.length===1&&t[0].semver===i){return true}else if(r.includePrerelease){e=c}else{e=l}}if(t.length===1&&t[0].semver===i){if(r.includePrerelease){return true}else{t=l}}const n=new Set;let o,u;for(const t of e){if(t.operator===">"||t.operator===">="){o=higherGT(o,t,r)}else if(t.operator==="<"||t.operator==="<="){u=lowerLT(u,t,r)}else{n.add(t.semver)}}if(n.size>1){return null}let f;if(o&&u){f=a(o.semver,u.semver,r);if(f>0){return null}else if(f===0&&(o.operator!==">="||u.operator!=="<=")){return null}}for(const e of n){if(o&&!s(e,String(o),r)){return null}if(u&&!s(e,String(u),r)){return null}for(const n of t){if(!s(e,String(n),r)){return false}}return true}let p,d;let h,m;let y=u&&!r.includePrerelease&&u.semver.prerelease.length?u.semver:false;let g=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:false;if(y&&y.prerelease.length===1&&u.operator==="<"&&y.prerelease[0]===0){y=false}for(const e of t){m=m||e.operator===">"||e.operator===">=";h=h||e.operator==="<"||e.operator==="<=";if(o){if(g){if(e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===g.major&&e.semver.minor===g.minor&&e.semver.patch===g.patch){g=false}}if(e.operator===">"||e.operator===">="){p=higherGT(o,e,r);if(p===e&&p!==o){return false}}else if(o.operator===">="&&!s(o.semver,String(e),r)){return false}}if(u){if(y){if(e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch){y=false}}if(e.operator==="<"||e.operator==="<="){d=lowerLT(u,e,r);if(d===e&&d!==u){return false}}else if(u.operator==="<="&&!s(u.semver,String(e),r)){return false}}if(!e.operator&&(u||o)&&f!==0){return false}}if(o&&h&&!u&&f!==0){return false}if(u&&m&&!o&&f!==0){return false}if(g||y){return false}return true};const higherGT=(e,t,r)=>{if(!e){return t}const n=a(e.semver,t.semver,r);return n>0?e:n<0?t:t.operator===">"&&e.operator===">="?t:e};const lowerLT=(e,t,r)=>{if(!e){return t}const n=a(e.semver,t.semver,r);return n<0?e:n>0?t:t.operator==="<"&&e.operator==="<="?t:e};e.exports=subset},6250:(e,t,r)=>{const n=r(4594);const toComparators=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));e.exports=toComparators},8650:(e,t,r)=>{const n=r(4594);const validRange=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}};e.exports=validRange},9:(e,t,r)=>{const n=r(4253);class DateRollingFileStream extends n{constructor(e,t,r){if(t&&typeof t==="object"){r=t;t=null}if(!r){r={}}if(!t){t="yyyy-MM-dd"}r.pattern=t;if(!r.numBackups&&r.numBackups!==0){if(!r.daysToKeep&&r.daysToKeep!==0){r.daysToKeep=1}else{process.emitWarning("options.daysToKeep is deprecated due to the confusion it causes when used "+"together with file size rolling. Please use options.numBackups instead.","DeprecationWarning","streamroller-DEP0001")}r.numBackups=r.daysToKeep}else{r.daysToKeep=r.numBackups}super(e,r);this.mode=this.options.mode}get theStream(){return this.currentFileStream}}e.exports=DateRollingFileStream},8166:(e,t,r)=>{const n=r(4253);class RollingFileStream extends n{constructor(e,t,r,n){if(!n){n={}}if(t){n.maxSize=t}if(!n.numBackups&&n.numBackups!==0){if(!r&&r!==0){r=1}n.numBackups=r}super(e,n);this.backups=n.numBackups;this.size=this.options.maxSize}get theStream(){return this.currentFileStream}}e.exports=RollingFileStream},4253:(e,t,r)=>{const n=r(9115)("streamroller:RollingFileWriteStream");const o=r(3543);const i=r(1017);const s=r(2037);const a=r(4879);const c=r(2175);const{Writable:l}=r(2781);const u=r(6572);const f=r(8041);const p=r(1636);const deleteFiles=e=>{n(`deleteFiles: files to delete: ${e}`);return Promise.all(e.map((e=>o.unlink(e).catch((t=>{n(`deleteFiles: error when unlinking ${e}, ignoring. Error was ${t}`)})))))};class RollingFileWriteStream extends l{constructor(e,t){n(`constructor: creating RollingFileWriteStream. path=${e}`);if(typeof e!=="string"||e.length===0){throw new Error(`Invalid filename: ${e}`)}else if(e.endsWith(i.sep)){throw new Error(`Filename is a directory: ${e}`)}else if(e.indexOf(`~${i.sep}`)===0){e=e.replace("~",s.homedir())}super(t);this.options=this._parseOption(t);this.fileObject=i.parse(e);if(this.fileObject.dir===""){this.fileObject=i.parse(i.join(process.cwd(),e))}this.fileFormatter=u({file:this.fileObject,alwaysIncludeDate:this.options.alwaysIncludePattern,needsIndex:this.options.maxSize<Number.MAX_SAFE_INTEGER,compress:this.options.compress,keepFileExt:this.options.keepFileExt,fileNameSep:this.options.fileNameSep});this.fileNameParser=f({file:this.fileObject,keepFileExt:this.options.keepFileExt,pattern:this.options.pattern,fileNameSep:this.options.fileNameSep});this.state={currentSize:0};if(this.options.pattern){this.state.currentDate=c(this.options.pattern,a())}this.filename=this.fileFormatter({index:0,date:this.state.currentDate});if(["a","a+","as","as+"].includes(this.options.flags)){this._setExistingSizeAndDate()}n(`constructor: create new file ${this.filename}, state=${JSON.stringify(this.state)}`);this._renewWriteStream()}_setExistingSizeAndDate(){try{const e=o.statSync(this.filename);this.state.currentSize=e.size;if(this.options.pattern){this.state.currentDate=c(this.options.pattern,e.mtime)}}catch(e){return}}_parseOption(e){const t={maxSize:0,numToKeep:Number.MAX_SAFE_INTEGER,encoding:"utf8",mode:parseInt("0600",8),flags:"a",compress:false,keepFileExt:false,alwaysIncludePattern:false};const r=Object.assign({},t,e);if(!r.maxSize){delete r.maxSize}else if(r.maxSize<=0){throw new Error(`options.maxSize (${r.maxSize}) should be > 0`)}if(r.numBackups||r.numBackups===0){if(r.numBackups<0){throw new Error(`options.numBackups (${r.numBackups}) should be >= 0`)}else if(r.numBackups>=Number.MAX_SAFE_INTEGER){throw new Error(`options.numBackups (${r.numBackups}) should be < Number.MAX_SAFE_INTEGER`)}else{r.numToKeep=r.numBackups+1}}else if(r.numToKeep<=0){throw new Error(`options.numToKeep (${r.numToKeep}) should be > 0`)}n(`_parseOption: creating stream with option=${JSON.stringify(r)}`);return r}_final(e){this.currentFileStream.end("",this.options.encoding,e)}_write(e,t,r){this._shouldRoll().then((()=>{n(`_write: writing chunk. `+`file=${this.currentFileStream.path} `+`state=${JSON.stringify(this.state)} `+`chunk=${e}`);this.currentFileStream.write(e,t,(t=>{this.state.currentSize+=e.length;r(t)}))}))}async _shouldRoll(){if(this._dateChanged()||this._tooBig()){n(`_shouldRoll: rolling because dateChanged? ${this._dateChanged()} or tooBig? ${this._tooBig()}`);await this._roll()}}_dateChanged(){return this.state.currentDate&&this.state.currentDate!==c(this.options.pattern,a())}_tooBig(){return this.state.currentSize>=this.options.maxSize}_roll(){n(`_roll: closing the current stream`);return new Promise(((e,t)=>{this.currentFileStream.end("",this.options.encoding,(()=>{this._moveOldFiles().then(e).catch(t)}))}))}async _moveOldFiles(){const e=await this._getExistingFiles();const t=this.state.currentDate?e.filter((e=>e.date===this.state.currentDate)):e;for(let e=t.length;e>=0;e--){n(`_moveOldFiles: i = ${e}`);const t=this.fileFormatter({date:this.state.currentDate,index:e});const r=this.fileFormatter({date:this.state.currentDate,index:e+1});const o={compress:this.options.compress&&e===0,mode:this.options.mode};await p(t,r,o)}this.state.currentSize=0;this.state.currentDate=this.state.currentDate?c(this.options.pattern,a()):null;n(`_moveOldFiles: finished rolling files. state=${JSON.stringify(this.state)}`);this._renewWriteStream();await new Promise(((e,t)=>{this.currentFileStream.write("","utf8",(()=>{this._clean().then(e).catch(t)}))}))}async _getExistingFiles(){const e=await o.readdir(this.fileObject.dir).catch((()=>[]));n(`_getExistingFiles: files=${e}`);const t=e.map((e=>this.fileNameParser(e))).filter((e=>e));const getKey=e=>(e.timestamp?e.timestamp:a().getTime())-e.index;t.sort(((e,t)=>getKey(e)-getKey(t)));return t}_renewWriteStream(){const e=this.fileFormatter({date:this.state.currentDate,index:0});const mkdir=e=>{try{return o.mkdirSync(e,{recursive:true})}catch(t){if(t.code==="ENOENT"){mkdir(i.dirname(e));return mkdir(e)}if(t.code!=="EEXIST"&&t.code!=="EROFS"){throw t}else{try{if(o.statSync(e).isDirectory()){return e}throw t}catch(e){throw t}}}};mkdir(this.fileObject.dir);const t={flags:this.options.flags,encoding:this.options.encoding,mode:this.options.mode};const renameKey=function(e,t,r){e[r]=e[t];delete e[t];return e};o.appendFileSync(e,"",renameKey({...t},"flags","flag"));this.currentFileStream=o.createWriteStream(e,t);this.currentFileStream.on("error",(e=>{this.emit("error",e)}))}async _clean(){const e=await this._getExistingFiles();n(`_clean: numToKeep = ${this.options.numToKeep}, existingFiles = ${e.length}`);n("_clean: existing files are: ",e);if(this._tooManyFiles(e.length)){const t=e.slice(0,e.length-this.options.numToKeep).map((e=>i.format({dir:this.fileObject.dir,base:e.filename})));await deleteFiles(t)}}_tooManyFiles(e){return this.options.numToKeep>0&&e>this.options.numToKeep}}e.exports=RollingFileWriteStream},6572:(e,t,r)=>{const n=r(9115)("streamroller:fileNameFormatter");const o=r(1017);const i=".gz";const s=".";e.exports=({file:e,keepFileExt:t,needsIndex:r,alwaysIncludeDate:a,compress:c,fileNameSep:l})=>{let u=l||s;const f=o.join(e.dir,e.name);const ext=t=>t+e.ext;const index=(e,t,n)=>(r||!n)&&t?e+u+t:e;const date=(e,t,r)=>(t>0||a)&&r?e+u+r:e;const gzip=(e,t)=>t&&c?e+i:e;const p=t?[date,index,ext,gzip]:[ext,date,index,gzip];return({date:e,index:t})=>{n(`_formatFileName: date=${e}, index=${t}`);return p.reduce(((r,n)=>n(r,t,e)),f)}}},8041:(e,t,r)=>{const n=r(9115)("streamroller:fileNameParser");const o=".gz";const i=r(2175);const s=".";e.exports=({file:e,keepFileExt:t,pattern:r,fileNameSep:a})=>{let c=a||s;const zip=(e,t)=>{if(e.endsWith(o)){n("it is gzipped");t.isCompressed=true;return e.slice(0,-1*o.length)}return e};const l="__NOT_MATCHING__";const extAtEnd=t=>{if(t.startsWith(e.name)&&t.endsWith(e.ext)){n("it starts and ends with the right things");return t.slice(e.name.length+1,-1*e.ext.length)}return l};const extInMiddle=t=>{if(t.startsWith(e.base)){n("it starts with the right things");return t.slice(e.base.length+1)}return l};const dateAndIndex=(e,t)=>{const o=e.split(c);let s=o[o.length-1];n("items: ",o,", indexStr: ",s);let a=e;if(s!==undefined&&s.match(/^\d+$/)){a=e.slice(0,-1*(s.length+1));n(`dateStr is ${a}`);if(r&&!a){a=s;s="0"}}else{s="0"}try{const n=i.parse(r,a,new Date(0,0));if(i.asString(r,n)!==a)return e;t.index=parseInt(s,10);t.date=a;t.timestamp=n.getTime();return""}catch(t){n(`Problem parsing ${a} as ${r}, error was: `,t);return e}};const index=(e,t)=>{if(e.match(/^\d+$/)){n("it has an index");t.index=parseInt(e,10);return""}return e};let u=[zip,t?extAtEnd:extInMiddle,r?dateAndIndex:index];return e=>{let t={filename:e,index:0,isCompressed:false};let r=u.reduce(((e,r)=>r(e,t)),e);return r?null:t}}},5347:(e,t,r)=>{e.exports={RollingFileWriteStream:r(4253),RollingFileStream:r(8166),DateRollingFileStream:r(9)}},1636:(e,t,r)=>{const n=r(9115)("streamroller:moveAndMaybeCompressFile");const o=r(3543);const i=r(9796);const _parseOption=function(e){const t={mode:parseInt("0600",8),compress:false};const r=Object.assign({},t,e);n(`_parseOption: moveAndMaybeCompressFile called with option=${JSON.stringify(r)}`);return r};const moveAndMaybeCompressFile=async(e,t,r)=>{r=_parseOption(r);if(e===t){n(`moveAndMaybeCompressFile: source and target are the same, not doing anything`);return}if(await o.pathExists(e)){n(`moveAndMaybeCompressFile: moving file from ${e} to ${t} ${r.compress?"with":"without"} compress`);if(r.compress){await new Promise(((s,a)=>{let c=false;const l=o.createWriteStream(t,{mode:r.mode,flags:"wx"}).on("open",(()=>{c=true;const t=o.createReadStream(e).on("open",(()=>{t.pipe(i.createGzip()).pipe(l)})).on("error",(t=>{n(`moveAndMaybeCompressFile: error reading ${e}`,t);l.destroy(t)}))})).on("finish",(()=>{n(`moveAndMaybeCompressFile: finished compressing ${t}, deleting ${e}`);o.unlink(e).then(s).catch((t=>{n(`moveAndMaybeCompressFile: error deleting ${e}, truncating instead`,t);o.truncate(e).then(s).catch((t=>{n(`moveAndMaybeCompressFile: error truncating ${e}`,t);a(t)}))}))})).on("error",(e=>{if(!c){n(`moveAndMaybeCompressFile: error creating ${t}`,e);a(e)}else{n(`moveAndMaybeCompressFile: error writing ${t}, deleting`,e);o.unlink(t).then((()=>{a(e)})).catch((e=>{n(`moveAndMaybeCompressFile: error deleting ${t}`,e);a(e)}))}}))})).catch((()=>{}))}else{n(`moveAndMaybeCompressFile: renaming ${e} to ${t}`);try{await o.move(e,t,{overwrite:true})}catch(r){n(`moveAndMaybeCompressFile: error renaming ${e} to ${t}`,r);if(r.code!=="ENOENT"){n(`moveAndMaybeCompressFile: trying copy+truncate instead`);try{await o.copy(e,t,{overwrite:true});await o.truncate(e)}catch(e){n(`moveAndMaybeCompressFile: error copy+truncate`,e)}}}}}};e.exports=moveAndMaybeCompressFile},4879:e=>{e.exports=()=>new Date},4432:(e,t,r)=>{const n=r(2037);const o=r(6224);const i=r(191);const{env:s}=process;let a;if(i("no-color")||i("no-colors")||i("color=false")||i("color=never")){a=0}else if(i("color")||i("colors")||i("color=true")||i("color=always")){a=1}if("FORCE_COLOR"in s){if(s.FORCE_COLOR==="true"){a=1}else if(s.FORCE_COLOR==="false"){a=0}else{a=s.FORCE_COLOR.length===0?1:Math.min(parseInt(s.FORCE_COLOR,10),3)}}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function supportsColor(e,t){if(a===0){return 0}if(i("color=16m")||i("color=full")||i("color=truecolor")){return 3}if(i("color=256")){return 2}if(e&&!t&&a===undefined){return 0}const r=a||0;if(s.TERM==="dumb"){return r}if(process.platform==="win32"){const e=n.release().split(".");if(Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in s){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in s))||s.CI_NAME==="codeship"){return 1}return r}if("TEAMCITY_VERSION"in s){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0}if(s.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(s.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)){return 1}if("COLORTERM"in s){return 1}return r}function getSupportLevel(e){const t=supportsColor(e,e&&e.isTTY);return translateLevel(t)}e.exports={supportsColor:getSupportLevel,stdout:translateLevel(supportsColor(true,o.isatty(1))),stderr:translateLevel(supportsColor(true,o.isatty(2)))}},8890:(e,t)=>{t.E=function(e){return Object.defineProperty((function(){if(typeof arguments[arguments.length-1]==="function")e.apply(this,arguments);else{return new Promise(((t,r)=>{arguments[arguments.length]=(e,n)=>{if(e)return r(e);t(n)};arguments.length++;e.apply(this,arguments)}))}}),"name",{value:e.name})};t.p=function(e){return Object.defineProperty((function(){const t=arguments[arguments.length-1];if(typeof t!=="function")return e.apply(this,arguments);else e.apply(this,arguments).then((e=>t(null,e)),t)}),"name",{value:e.name})}},9491:t=>{t.exports=e(import.meta.url)("assert")},4300:t=>{t.exports=e(import.meta.url)("buffer")},5001:t=>{t.exports=e(import.meta.url)("cluster")},2057:t=>{t.exports=e(import.meta.url)("constants")},6113:t=>{t.exports=e(import.meta.url)("crypto")},7147:t=>{t.exports=e(import.meta.url)("fs")},1808:t=>{t.exports=e(import.meta.url)("net")},2037:t=>{t.exports=e(import.meta.url)("os")},1017:t=>{t.exports=e(import.meta.url)("path")},2781:t=>{t.exports=e(import.meta.url)("stream")},6224:t=>{t.exports=e(import.meta.url)("tty")},7310:t=>{t.exports=e(import.meta.url)("url")},3837:t=>{t.exports=e(import.meta.url)("util")},9796:t=>{t.exports=e(import.meta.url)("zlib")},1403:(e,t)=>{const{parse:r,stringify:n}=JSON;const{keys:o}=Object;const i=String;const s="string";const a={};const c="object";const noop=(e,t)=>t;const primitives=e=>e instanceof i?i(e):e;const Primitives=(e,t)=>typeof t===s?new i(t):t;const revive=(e,t,r,n)=>{const s=[];for(let l=o(r),{length:u}=l,f=0;f<u;f++){const o=l[f];const u=r[o];if(u instanceof i){const i=e[u];if(typeof i===c&&!t.has(i)){t.add(i);r[o]=a;s.push({k:o,a:[e,t,i,n]})}else r[o]=n.call(r,o,i)}else if(r[o]!==a)r[o]=n.call(r,o,u)}for(let{length:e}=s,t=0;t<e;t++){const{k:e,a:o}=s[t];r[e]=n.call(r,e,revive.apply(null,o))}return r};const set=(e,t,r)=>{const n=i(t.push(r)-1);e.set(r,n);return n};const parse=(e,t)=>{const n=r(e,Primitives).map(primitives);const o=n[0];const i=t||noop;const s=typeof o===c&&o?revive(n,new Set,o,i):o;return i.call({"":s},"",s)};t.parse=parse;const stringify=(e,t,r)=>{const o=t&&typeof t===c?(e,r)=>e===""||-1<t.indexOf(e)?r:void 0:t||noop;const i=new Map;const a=[];const l=[];let u=+set(i,a,o.call({"":e},"",e));let f=!u;while(u<a.length){f=true;l[u]=n(a[u++],replace,r)}return"["+l.join(",")+"]";function replace(e,t){if(f){f=!f;return t}const r=o.call(this,e,t);switch(typeof r){case c:if(r===null)return r;case s:return i.get(r)||set(i,a,r)}return r}};t.stringify=stringify;const toJSON=e=>r(stringify(e));t.toJSON=toJSON;const fromJSON=e=>parse(n(e));t.fromJSON=fromJSON}};var r={};function __nccwpck_require__(e){var n=r[e];if(n!==undefined){return n.exports}var o=r[e]={exports:{}};var i=true;try{t[e](o,o.exports,__nccwpck_require__);i=false}finally{if(i)delete r[e]}return o.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=new URL(".",import.meta.url).pathname.slice(import.meta.url.match(/^file:\/\/\/\w:/)?1:0,-1)+"/";var n={};(()=>{var t=__nccwpck_require__(7147);var r=__nccwpck_require__(1017);var n=__nccwpck_require__(1396);const signOption=(e,t,r)=>({algorithm:"ES256",keyid:t,audience:"appstoreconnect-v1",expiresIn:r,issuer:e});function jwtGenCore(){}function tokenSync(e,t,r,o=500){return n.sign({},e,signOption(t,r,o))}async function token(e,t,r,o=500){return Promise.resolve(n.sign({},e,signOption(t,r,o)))}jwtGenCore.tokenSync=tokenSync;jwtGenCore.token=token;const o=jwtGenCore;var i=__nccwpck_require__(8150);const s=10;const wrapAnsi16=(e=0)=>t=>`[${t+e}m`;const wrapAnsi256=(e=0)=>t=>`[${38+e};5;${t}m`;const wrapAnsi16m=(e=0)=>(t,r,n)=>`[${38+e};2;${t};${r};${n}m`;const a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};const c=Object.keys(a.modifier);const l=Object.keys(a.color);const u=Object.keys(a.bgColor);const f=[...l,...u];function assembleStyles(){const e=new Map;for(const[t,r]of Object.entries(a)){for(const[t,n]of Object.entries(r)){a[t]={open:`[${n[0]}m`,close:`[${n[1]}m`};r[t]=a[t];e.set(n[0],n[1])}Object.defineProperty(a,t,{value:r,enumerable:false})}Object.defineProperty(a,"codes",{value:e,enumerable:false});a.color.close="[39m";a.bgColor.close="[49m";a.color.ansi=wrapAnsi16();a.color.ansi256=wrapAnsi256();a.color.ansi16m=wrapAnsi16m();a.bgColor.ansi=wrapAnsi16(s);a.bgColor.ansi256=wrapAnsi256(s);a.bgColor.ansi16m=wrapAnsi16m(s);Object.defineProperties(a,{rgbToAnsi256:{value(e,t,r){if(e===t&&t===r){if(e<8){return 16}if(e>248){return 231}return Math.round((e-8)/247*24)+232}return 16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)},enumerable:false},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t){return[0,0,0]}let[r]=t;if(r.length===3){r=[...r].map((e=>e+e)).join("")}const n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,n&255]},enumerable:false},hexToAnsi256:{value:e=>a.rgbToAnsi256(...a.hexToRgb(e)),enumerable:false},ansi256ToAnsi:{value(e){if(e<8){return 30+e}if(e<16){return 90+(e-8)}let t;let r;let n;if(e>=232){t=((e-232)*10+8)/255;r=t;n=t}else{e-=16;const o=e%36;t=Math.floor(e/36)/5;r=Math.floor(o/6)/5;n=o%6/5}const o=Math.max(t,r,n)*2;if(o===0){return 30}let i=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(t));if(o===2){i+=60}return i},enumerable:false},rgbToAnsi:{value:(e,t,r)=>a.ansi256ToAnsi(a.rgbToAnsi256(e,t,r)),enumerable:false},hexToAnsi:{value:e=>a.ansi256ToAnsi(a.hexToAnsi256(e)),enumerable:false}});return a}const p=assembleStyles();const d=p;const h=e(import.meta.url)("node:process");const m=e(import.meta.url)("node:os");const y=e(import.meta.url)("node:tty");function hasFlag(e,t=(globalThis.Deno?globalThis.Deno.args:h.argv)){const r=e.startsWith("-")?"":e.length===1?"-":"--";const n=t.indexOf(r+e);const o=t.indexOf("--");return n!==-1&&(o===-1||n<o)}const{env:g}=h;let S;if(hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")){S=0}else if(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always")){S=1}function envForceColor(){if("FORCE_COLOR"in g){if(g.FORCE_COLOR==="true"){return 1}if(g.FORCE_COLOR==="false"){return 0}return g.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(g.FORCE_COLOR,10),3)}}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function _supportsColor(e,{streamIsTTY:t,sniffFlags:r=true}={}){const n=envForceColor();if(n!==undefined){S=n}const o=r?S:n;if(o===0){return 0}if(r){if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor")){return 3}if(hasFlag("color=256")){return 2}}if("TF_BUILD"in g&&"AGENT_NAME"in g){return 1}if(e&&!t&&o===undefined){return 0}const i=o||0;if(g.TERM==="dumb"){return i}if(h.platform==="win32"){const e=m.release().split(".");if(Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in g){if(["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some((e=>e in g))){return 3}if(["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((e=>e in g))||g.CI_NAME==="codeship"){return 1}return i}if("TEAMCITY_VERSION"in g){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(g.TEAMCITY_VERSION)?1:0}if(g.COLORTERM==="truecolor"){return 3}if(g.TERM==="xterm-kitty"){return 3}if("TERM_PROGRAM"in g){const e=Number.parseInt((g.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(g.TERM_PROGRAM){case"iTerm.app":{return e>=3?3:2}case"Apple_Terminal":{return 2}}}if(/-256(color)?$/i.test(g.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(g.TERM)){return 1}if("COLORTERM"in g){return 1}return i}function createSupportsColor(e,t={}){const r=_supportsColor(e,{streamIsTTY:e&&e.isTTY,...t});return translateLevel(r)}const v={stdout:createSupportsColor({isTTY:y.isatty(1)}),stderr:createSupportsColor({isTTY:y.isatty(2)})};const E=v;function stringReplaceAll(e,t,r){let n=e.indexOf(t);if(n===-1){return e}const o=t.length;let i=0;let s="";do{s+=e.slice(i,n)+t+r;i=n+o;n=e.indexOf(t,i)}while(n!==-1);s+=e.slice(i);return s}function stringEncaseCRLFWithFirstIndex(e,t,r,n){let o=0;let i="";do{const s=e[n-1]==="\r";i+=e.slice(o,s?n-1:n)+t+(s?"\r\n":"\n")+r;o=n+1;n=e.indexOf("\n",o)}while(n!==-1);i+=e.slice(o);return i}const{stdout:b,stderr:w}=E;const O=Symbol("GENERATOR");const x=Symbol("STYLER");const k=Symbol("IS_EMPTY");const I=["ansi","ansi","ansi256","ansi16m"];const F=Object.create(null);const applyOptions=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3)){throw new Error("The `level` option should be an integer from 0 to 3")}const r=b?b.level:0;e.level=t.level===undefined?r:t.level};class Chalk{constructor(e){return chalkFactory(e)}}const chalkFactory=e=>{const chalk=(...e)=>e.join(" ");applyOptions(chalk,e);Object.setPrototypeOf(chalk,createChalk.prototype);return chalk};function createChalk(e){return chalkFactory(e)}Object.setPrototypeOf(createChalk.prototype,Function.prototype);for(const[e,t]of Object.entries(d)){F[e]={get(){const r=createBuilder(this,createStyler(t.open,t.close,this[x]),this[k]);Object.defineProperty(this,e,{value:r});return r}}}F.visible={get(){const e=createBuilder(this,this[x],true);Object.defineProperty(this,"visible",{value:e});return e}};const getModelAnsi=(e,t,r,...n)=>{if(e==="rgb"){if(t==="ansi16m"){return d[r].ansi16m(...n)}if(t==="ansi256"){return d[r].ansi256(d.rgbToAnsi256(...n))}return d[r].ansi(d.rgbToAnsi(...n))}if(e==="hex"){return getModelAnsi("rgb",t,r,...d.hexToRgb(...n))}return d[r][e](...n)};const A=["rgb","hex","ansi256"];for(const e of A){F[e]={get(){const{level:t}=this;return function(...r){const n=createStyler(getModelAnsi(e,I[t],"color",...r),d.color.close,this[x]);return createBuilder(this,n,this[k])}}};const t="bg"+e[0].toUpperCase()+e.slice(1);F[t]={get(){const{level:t}=this;return function(...r){const n=createStyler(getModelAnsi(e,I[t],"bgColor",...r),d.bgColor.close,this[x]);return createBuilder(this,n,this[k])}}}}const T=Object.defineProperties((()=>{}),{...F,level:{enumerable:true,get(){return this[O].level},set(e){this[O].level=e}}});const createStyler=(e,t,r)=>{let n;let o;if(r===undefined){n=e;o=t}else{n=r.openAll+e;o=t+r.closeAll}return{open:e,close:t,openAll:n,closeAll:o,parent:r}};const createBuilder=(e,t,r)=>{const builder=(...e)=>applyStyle(builder,e.length===1?""+e[0]:e.join(" "));Object.setPrototypeOf(builder,T);builder[O]=e;builder[x]=t;builder[k]=r;return builder};const applyStyle=(e,t)=>{if(e.level<=0||!t){return e[k]?"":t}let r=e[x];if(r===undefined){return t}const{openAll:n,closeAll:o}=r;if(t.includes("")){while(r!==undefined){t=stringReplaceAll(t,r.close,r.open);r=r.parent}}const i=t.indexOf("\n");if(i!==-1){t=stringEncaseCRLFWithFirstIndex(t,o,n,i)}return n+t+o};Object.defineProperties(createChalk.prototype,F);const C=createChalk();const R=createChalk({level:w?w.level:0});const L=C;const $=/(?:\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.))|(?:{(~)?(#?[\w:]+(?:\([^)]*\))?(?:\.#?[\w:]+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(})|((?:.|[\r\n\f])+?)/gi;const N=/(?:^|\.)(?:(?:(\w+)(?:\(([^)]*)\))?)|(?:#(?=[:a-fA-F\d]{2,})([a-fA-F\d]{6})?(?::([a-fA-F\d]{6}))?))/g;const j=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/;const P=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi;const _=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function chalk_template_unescape(e){const t=e[0]==="u";const r=e[1]==="{";if(t&&!r&&e.length===5||e[0]==="x"&&e.length===3){return String.fromCodePoint(Number.parseInt(e.slice(1),16))}if(t&&r){return String.fromCodePoint(Number.parseInt(e.slice(2,-1),16))}return _.get(e)||e}function parseArguments(e,t){const r=[];const n=t.trim().split(/\s*,\s*/g);let o;for(const t of n){const n=Number(t);if(!Number.isNaN(n)){r.push(n)}else if(o=t.match(j)){r.push(o[2].replace(P,((e,t,r)=>t?chalk_template_unescape(t):r)))}else{throw new Error(`Invalid Chalk template style argument: ${t} (in style '${e}')`)}}return r}function parseHex(e){const t=Number.parseInt(e,16);return[t>>16&255,t>>8&255,t&255]}function parseStyle(e){N.lastIndex=0;const t=[];let r;while((r=N.exec(e))!==null){const e=r[1];if(r[2]){t.push([e,...parseArguments(e,r[2])])}else if(r[3]||r[4]){if(r[3]){t.push(["rgb",...parseHex(r[3])])}if(r[4]){t.push(["bgRgb",...parseHex(r[4])])}}else{t.push([e])}}return t}function makeTemplate(e){function buildStyle(t){const r={};for(const e of t){for(const t of e.styles){r[t[0]]=e.inverse?null:t.slice(1)}}let n=e;for(const[e,t]of Object.entries(r)){if(!Array.isArray(t)){continue}if(!(e in n)){throw new Error(`Unknown Chalk style: ${e}`)}n=t.length>0?n[e](...t):n[e]}return n}function template(e){const t=[];const r=[];let n=[];e.replace($,((e,o,i,s,a,c)=>{if(o){n.push(chalk_template_unescape(o))}else if(s){const e=n.join("");n=[];r.push(t.length===0?e:buildStyle(t)(e));t.push({inverse:i,styles:parseStyle(s)})}else if(a){if(t.length===0){throw new Error("Found extraneous } in Chalk template literal")}r.push(buildStyle(t)(n.join("")));n=[];t.pop()}else{n.push(c)}}));r.push(n.join(""));if(t.length>0){throw new Error(`Chalk template literal is missing ${t.length} closing bracket${t.length===1?"":"s"} (\`}\`)`)}return r.join("")}return template}function makeChalkTemplate(e){function chalkTemplate(t,...r){if(!Array.isArray(t)||!Array.isArray(t.raw)){throw new TypeError("A tagged template literal must be provided")}const n=[t.raw[0]];for(let e=1;e<t.raw.length;e++){n.push(String(r[e-1]).replace(/[{}\\]/g,"\\$&"),String(t.raw[e]))}return e(n.join(""))}return chalkTemplate}const makeTaggedTemplate=e=>makeChalkTemplate(makeTemplate(e));const D=makeTemplate(L);const M=makeChalkTemplate(D);const B=makeTemplate(R);const G=makeChalkTemplate(B);var W=__nccwpck_require__(8189);W.configure(JSON.parse('{"appenders":{"out":{"layout":{"pattern":"%m%n","type":"pattern"},"type":"stdout"}},"categories":{"default":{"appenders":["out"],"level":"info"}}}'));let U=W.getLogger(),z={"--help":{type:Boolean,alias:"-h"},"--version":{type:Boolean,alias:"-v"},"--cert":{type:String,alias:"-c"},"--keyId":{type:String,alias:"-k"},"--issuerId":{type:String,alias:"-i"}},V=Object.keys(z).map((e=>{let t=JSON.parse("{}");return t[e]=z[e].type,t})).reduce(((e,t)=>Object.assign(t,e))),K=Object.keys(z).map((e=>{let t=JSON.parse("{}");return t[z[e].alias]=e,t})).reduce(((e,t)=>Object.assign(t,e))),J={...V,...K};try{let e=i(J),r=JSON.parse(Buffer.from(t.readFileSync(__nccwpck_require__.ab+"package.json",JSON.parse('{"flag":"r"}'))).toString()),n=M`
  {bold USAGE}

      {dim $} {bold ${Object.keys(r.bin).pop()}} [--help] --string {underline some-arg}

  {bold OPTIONS}
      --help                 Shows this help message
      --version              Print version of this module
      --cert {underline cert-file-path}  Private certificate file path for AppStore Connect API
      --keyId {underline key-id}         Key ID for AppStore Connect API
      --issuerId {underline issuer-id}   Issuer ID for AppStore Connect API
`;void 0!==e["--help"]&&(U.error(n),process.exit(0)),void 0!==e["--version"]&&(U.info(r.version),process.exit(0)),void 0===e["--cert"]&&(U.error("The certificate file path must be specified."),process.exit(1)),void 0===e["--keyId"]&&(U.error("Key ID must be specified."),process.exit(1)),void 0===e["--issuerId"]&&(U.error("Issuer ID must be specified."),process.exit(1));let s=e["--cert"],a=t.readFileSync(s,JSON.parse('{"flag":"r"}')),c=o.tokenSync(a,e["--issuerId"],e["--keyId"],void 0);U.info(M`
{bold token}
${c}
`)}catch(e){U.error(e),process.exit(1)}})();
//# sourceMappingURL=index.mjs.map